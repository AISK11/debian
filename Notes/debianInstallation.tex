\documentclass[10pt, a4paper, onecolumn, openany]{book} % openany make chapter start whenever, DELETE in OFFICIAL

% PACKAGES:
% Font Encoding
\usepackage[utf8]{inputenc}     % Use UTF-8
\usepackage[T1]{fontenc}        % T1 font encoding (latin characters)
% Header
\usepackage{fancyhdr}           % fancy page header options
\usepackage{titlesec}           % used to have \thechapter in same line as \chaptertitlename
% MISC
\usepackage{hyperref}           % \url{}
\usepackage{xurl}
\usepackage{graphicx}           % images
\usepackage{xcolor}            % colors
\usepackage{fancyvrb}          % colors in Verbatin, header: \begin{Verbatim}[commandchars=\\\{\}]

% DECORATIVE LINES + CHAPTER IN SAME LINE:
\renewcommand{\headrulewidth}{2pt}  % Top decorative line
\renewcommand{\footrulewidth}{2pt}  % Bottom decorative line
\pagestyle{fancy}                   % better header for normal pages, not only chapter ones
\fancyhf{}                          % clear header and adjust as wanted:
    \chead{\leftmark}               % header
    \cfoot{Page \thepage}           % footer
\fancypagestyle{plain}{
\fancyhf{} 
    \chead{\leftmark}       % header
    \cfoot{Page \thepage}   % footer
}
\renewcommand{\chaptername}{}       % change word chapter to {}
\titleformat{\chapter}[hang]{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter.}{1em}{} % Chapter in same line as chapter name

% SIZES OF SECTIONS:
\titleformat*{\section}{\LARGE\bfseries}
\titleformat*{\subsection}{\Large\bfseries}
\titleformat*{\subsubsection}{\large\bfseries}

% DISABLE huge space after (paragraph indent) section name before text starts:
\setlength{\parindent}{0pt}

% COLOR EXAMPLES:
% \definecolor{MyColor}{RGB}{219, 48, 122}  % define
% \textcolor{MyColor}{Some random text}     % usage in document
\definecolor{root}{RGB}{222, 0, 0}
\definecolor{user}{RGB}{0, 150, 00}
\definecolor{dir}{RGB}{0, 100, 200}
\definecolor{file}{RGB}{77, 187, 101}
\definecolor{block}{RGB}{255, 80, 0}
\definecolor{command}{RGB}{41, 182, 0}
\definecolor{comment}{RGB}{0, 182, 182}

% COLORS FOR CODE in document:
%\begin{minted}[frame=lines,framesep=2mm,baselinestretch=1.2,fontsize=\footnotesize,linenos]{js}
%\end{minted}

% IMAGES:
\graphicspath{./images/} % define directory
% \includegraphics[scale=1.5]{./images/random_image.png} % usage in document

% TABLE:
% \begin{center}
%    \begin{small}
%    \begin{tabular}{|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|}
%    \hline
%    + & - & * & / & \% & ** & () \\
%    \hline
%    1 & 2 & 3 & 4 & 5 & 6 & 7 \\
%    \hline
%    \end{tabular}
%    \end{small}
%\end{center}


%\titlespacing*{\section}{0pt}{1.5cm}{0.2cm}
%\titlespacing*{\subsection}{0pt}{0.2cm}{0.2cm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TITLE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{\textbf{Debian}}
\author{AISK}
\date{July, 2021}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% START %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle
%\clearpage % official blank page
\tableofcontents

\chapter{Basic Functionality}
\section{Disable bell}
\begin{Verbatim}[commandchars=\\\{\}]
- Turn off bell for CLI mode:
File: (\textcolor{file}{/etc/inputrc}):
set bell-style none

- Turn off bell for vim:
File: (\textcolor{file}{/etc/vim/vimrc}):
"""set visualbell

- if everything fails:
File: (\textcolor{file}{/etc/modprobe.d/blacklist.conf}):
blacklist pcspkr

    \textcolor{root}{root#} \textcolor{command}{depmod} -a
    \textcolor{root}{root#} \textcolor{command}{update-initramfs} -u
\end{Verbatim}


\section{Testing/release upgrade}
\begin{center}
    \begin{small}
    \begin{tabular}{|p{4cm}|p{4cm}|}
    \hline
    \textbf{Release} & \textbf{Version} \\
    \hline
    stable & buster \\
    \hline
    testing & bullseye \\
    \hline
    experimental & sid \\
    \hline
    \end{tabular}
    \end{small}
\end{center}

\begin{Verbatim}[commandchars=\\\{\}]
File (\textcolor{file}{/etc/apt/sources.list}):
deb http://deb.debian.org/debian bullseye main [contrib] [non-free]
deb-src http://deb.debian.org/debian bullseye main [contrib] [non-free]
\end{Verbatim}


\section{Drivers}
\subsection{iwlwifi}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{apt} install firmware-iwlwifi
\end{Verbatim}
\subsection{Synaptics}
\begin{Verbatim}[commandchars=\\\{\}]
--- WiP ---
Audio, Mic, Webcam
\end{Verbatim}



\chapter{Local Settings}
\section{Password}
\begin{Verbatim}[commandchars=\\\{\}]
- User password change:
    \textcolor{user}{user\$} \textcolor{command}{passwd}
   
- Root password set/change: 
    \textcolor{root}{root#} \textcolor{command}{passwd} root
\end{Verbatim}

\section{doas}
\subsection{Installation}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{apt} install doas
    \textcolor{root}{root#} \textcolor{command}{apt} purge sudo
\end{Verbatim}
\subsection{Configuration}
\begin{Verbatim}[commandchars=\\\{\}]
File (\textcolor{file}{/etc/doas.conf}) (0644):
\textcolor{comment}{#<permit|deny> [nopass|persist] <USER>[:GROUP] [as <USER2>]}
\textcolor{comment}{[cmd <COMMAND> [args <ARGUMENTS>]}
permit nopass <USER>
\end{Verbatim}

\section{Hostname}
\begin{Verbatim}[commandchars=\\\{\}]
1. Display hostname:
    \textcolor{user}{user\$} \textcolor{command}{hostname}
    
2. Change hostname:
File (\textcolor{file}{/etc/hostname}):
<HOSTNAME>

File (\textcolor{file}{/etc/hosts}):
...
127.0.1.1   <HOSTNAME>
\end{Verbatim}

\section{Time and date}
\subsection{Timezone}
\begin{Verbatim}[commandchars=\\\{\}]
- Show current timezone:
    \textcolor{user}{pi\$} \textcolor{command}{timedatectl} -a

- List available timezones:
    \textcolor{user}{pi\$} \textcolor{command}{timedatectl} list-timezones
    
- Change timezone:
    \textcolor{root}{pi#} \textcolor{command}{timedatectl} set-timezone <UTC|Europe/Copenhagen>
\end{Verbatim}
\subsection{ntpd}
\begin{Verbatim}[commandchars=\\\{\}]
- Installation:
    \textcolor{root}{root#} \textcolor{command}{apt} install ntp

- Enable:
    \textcolor{root}{root#} \textcolor{command}{systemctl} enable ntp.service
\end{Verbatim}




\section{Language and Keyboard}
\subsection{Locale}
\begin{Verbatim}[commandchars=\\\{\}]
- Show current locales:
    \textcolor{user}{user\$} \textcolor{command}{locale}

- Change locales:
File: (\textcolor{file}{/etc/default/locale}):
LANG=en_US.UTF-8
\textcolor{comment}{# First day in a week MON, not SUN:}
#LC_TIME="en_GB.UTF-8"
\textcolor{comment}{# Default paper size:}
#LC_PAPER="en_GB.UTF-8"
#LC_MEASUREMENT="en_GB.UTF-8"
\end{Verbatim}

\subsection{Keyboard Layout}
\begin{Verbatim}[commandchars=\\\{\}]
Available keyboards: \textcolor{dir}{/usr/share/keymaps/i386/}

- Set keyboard:
File (\textcolor{file}{/etc/default/keyboard}):
XKBMODEL="pc105"
XKBLAYOUT="us"
XKBVARIANT=""
XKBOPTIONS=""
BACKSPACE="guess"
\end{Verbatim}


\chapter{Network}
\section{Rename Interface}
\subsection{GRUB}
\begin{Verbatim}[commandchars=\\\{\}]
File: (\textcolor{file}{/etc/default/grub}):
GRUB_CMDLINE_LINUX="net.ifnames=0 biosdevname=0"

- Save grub config:
    \textcolor{root}{root#} \textcolor{command}{grub-mkconfig} -o \textcolor{file}{/boot/grub/grub.cfg}
\end{Verbatim}

\subsection{udev}
\begin{Verbatim}[commandchars=\\\{\}]
File: (\textcolor{file}{/etc/udev/rules.d/70-persistent-net.rules}):
\textcolor{comment}{# eth0:}
#SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", \char092
#<ATTR\{address\}=="<MAC-ADDRESS>"|ENV\{ID_NET_NAME_PATH\}=="<enp3s0>">, \char092
#ATTR\{type\}=="1", KERNEL=="eth*", NAME="<eth0>"
\textcolor{comment}{# wireless:}
#SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", \char092
#<ATTR\{address\}=="<MAC-ADDRESS>"|ENV\{ID_NET_NAME_PATH\}=="<wlp0s20f3>">, \char092
#ATTR\{type\}=="1", KERNEL=="wlan*", NAME="<wlan0>"
\end{Verbatim}


\section{Rfkill}
\subsection{Installation}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{apt} install rfkill
\end{Verbatim}
\subsection{Block BT, unblock WiFi}
\begin{Verbatim}[commandchars=\\\{\}]
- List:
    \textcolor{root}{root#} \textcolor{command}{rfkill} list

- Block BT:
    \textcolor{root}{root#} \textcolor{command}{rfkill} block bluetooth
    
- Unblock WiFi:
    \textcolor{root}{root#} \textcolor{command}{rfkill} unblock wlan
\end{Verbatim}

\section{Bluetooth}
\subsubsection{Purge Bluetooth}
\begin{Verbatim}[commandchars=\\\{\}]
List packages:
    \textcolor{user}{user} \textcolor{command}{dpkg} -l | \textcolor{command}{grep} -i bluetooth

Purge packages:
    \textcolor{root}{root#} \textcolor{command}{dpkg} --purge <bluez bluetooth>
\end{Verbatim}

\section{Disable IPv6}
\begin{Verbatim}[commandchars=\\\{\}]
File: (\textcolor{file}{/etc/sysctl.conf}):
net.ipv6.conf.all.disable_ipv6 = 1
\end{Verbatim}

\section{Configure Interfaces}
\subsection{Disable hotplug}
\begin{Verbatim}[commandchars=\\\{\}]
File: (\textcolor{file}{/etc/network/interfaces}):
\textcolor{comment}{# Disable autoplug, comment out lines:}
###allow-hotplug eth0
###iface eth0 inet <dhcp|manual>
\end{Verbatim}
\subsection{DHCP}
\begin{Verbatim}[commandchars=\\\{\}]
- Install dhcpcd:
    \textcolor{root}{root#} \textcolor{command}{apt} install dhcpcd5

- Do not run DHCP on startup:
    \textcolor{root}{root#} \textcolor{command}{systemctl} disable dhcpcd.service

- Purge old DHCP:
    \textcolor{root}{root#} \textcolor{command}{dpkg} --purge <isc-dhcp-client isc-dhcp-common>
    
- Configure DHCP:
File: (\textcolor{file}{/etc/dhcpcd.conf}):
\textcolor{comment}{# Inform DHCP server of our hostname for DDNS.}
###hostname
\textcolor{comment}{# Persist interface configuration when dhcpcd exits.}
###persistent
\textcolor{comment}{# A list of options to request from the DHCP server.}
###option domain_name_servers, domain_name, domain_search, host_name
\end{Verbatim}

\subsection{DNS}
\begin{Verbatim}[commandchars=\\\{\}]
File: (\textcolor{file}{/etc/resolv.conf}) (0644):
\textcolor{comment}{# Uncensored DNS - Denmark - Unicast}
nameserver 89.233.43.71
#nameserver 1.1.1.1
#nameserver 1.0.0.1
\textcolor{comment}{# CZ.NIC}
nameserver 193.17.47.1
nameserver 185.43.135.1
\end{Verbatim}


\section{WiFi}
\subsection{Scan for ESSID}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{iwlist} [wlan0] scanning [| \textcolor{command}{grep} "<ESSID>"]
\end{Verbatim}
\subsection{wpasupplicant}
\begin{Verbatim}[commandchars=\\\{\}]
- Install:
    \textcolor{root}{root#} \textcolor{command}{apt} install wpasupplicant

- Disable on startup:
    \textcolor{root}{root#} \textcolor{command}{systemctl} disable wpa_supplicant.service

- OPTIONAL - Generate 32BYTE HEX NUMBER:
    \textcolor{user}{user\$} \textcolor{command}{wpa_passphrase}

- Change mod to unreadable by users:
    \textcolor{root}{root#} \textcolor{command}{chmod} 0600 \textcolor{file}{/etc/wpa_supplicant/wpa_supplicant.conf}

- Configure:
File: (\textcolor{file}{/etc/wpa_supplicant/wpa_supplicant.conf}) (0600):
\textcolor{comment}{# Basic settings and language for zones:}
ctrl_interface=/run/wpa_supplicant
update_config=1
country=<2 LETTER ISO CODE>

\textcolor{comment}{# Password protected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=WPA-PSK WPA-EAP
    \textcolor{comment}{#psk="<PLAINTEXT-PASSWD>"}
    psk=<32byte-HEX-NUMBER>
    priority=1 \textcolor{comment}{# To which WiFi connect first}
\}

\textcolor{comment}{# Unprotected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=NONE
    priority=2 \textcolor{comment}{# To which WiFi connect first}
\}
\end{Verbatim}


\section{Run Network}
\subsection{Manual Static Ethernet}
\begin{Verbatim}[commandchars=\\\{\}]
- Manual static IP:
    \textcolor{root}{root#} \textcolor{command}{ip} l set <eth0> up
    \textcolor{root}{root#} \textcolor{command}{ip} a add <IPv4>/24 dev <eth0>
    \textcolor{root}{root#} \textcolor{command}{ip} r add default via <IPv4>
\end{Verbatim}

\subsection{Manual DHCP WiFi}
\begin{Verbatim}[commandchars=\\\{\}]
0. Start interface:
OPTIONAL - unblock rfkill:
    \textcolor{root}{root#} \textcolor{command}{rfkill} unblock wlan
OPTIONAL - change MAC:
    \textcolor{root}{root#} \textcolor{command}{macchanger} -Ab <wlan0>
OPTIONAL - remove previous leases:
    \textcolor{root}{root#} \textcolor{command}{rm} -f /var/lib/dhcpcd/*
Start interface:
    \textcolor{root}{root#} \textcolor{command}{ip} l set <wlan0> up

2. Connect to WiFi:
Start wpa_supplicant:
    \textcolor{root}{root#} \textcolor{command}{systemctl} start wpa_supplicant.service
Start DHCP:
    \textcolor{root}{root#} \textcolor{command}{systemctl} start dhcpcd.service
Apply wpa_supplicant settings ([B]ackground [D]river wext [i]nterface [c]onfig):
    \textcolor{root}{root#} \textcolor{command}{wpa_supplicant} -B -D wext -i <wlan0> -c \textcolor{file}{/etc/wpa_supplicant/wpa_supplicant.conf}
Run DHCP on interface:
    \textcolor{root}{root#} \textcolor{command}{dhcpcd} <wlan0>
\end{Verbatim}



\chapter{Shell and Texteditor}
\section{vim}
\subsection{Installation}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{apt} install vim
\end{Verbatim}
\subsection{Config files}
\begin{Verbatim}[commandchars=\\\{\}]
Config files:
\textcolor{file}{/etc/vim/vimrc} - global
\textcolor{file}{~/.vimrc} - per user

Adjust:
\underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.vimrc}}
\end{Verbatim}
\subsection{Set as default}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{update-alternatives} --config editor
\end{Verbatim}
\subsection{Tricks}
\begin{Verbatim}[commandchars=\\\{\}]
- Add '#' to start of file:
A)  :\%s/^/#/g
B)  \textcolor{root}{root#} \textcolor{command}{vim} -c ":\%s/^/#/g" -c ":wq" <FILE>
\end{Verbatim}


\section{zsh}
\subsection{Installation}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{apt} install zsh zsh-autosuggestions zsh-syntax-highlighting
\end{Verbatim}
\subsection{Change Shell}
\begin{Verbatim}[commandchars=\\\{\}]
a)  \textcolor{user}{user\$} \textcolor{command}{chsh} -s \textcolor{file}{/bin/zsh}
b)  \textcolor{root}{root#} \textcolor{command}{usermod} -s \textcolor{file}{/bin/zsh} <USER>
\end{Verbatim}
\subsection{Configure}
\begin{Verbatim}[commandchars=\\\{\}]
File (\textcolor{file}{~/.zshrc}) (0644):
\underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.zshrc}}
\end{Verbatim}




\chapter{X + i3}
\section{X}
\subsection{Installation}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{apt} install xorg
\end{Verbatim}
\subsection{Start X on tty1}
\begin{Verbatim}[commandchars=\\\{\}]
Start X on startup:
File (\textcolor{file}{~/.bash_profile}||\textcolor{file}{~/.bashrc}||\textcolor{file}{~/.zshrc}) (0644):
\textcolor{comment}{# if (length of \$DISPLAY is 0 && \$(tty) = /dev/tty1) startx}
if [[ -z \$DISPLAY ]] && [[ \$(tty) = /dev/tty1 ]]; then
    source /etc/profile
    startx
fi
\end{Verbatim}
\section{i3}
\subsection{Installation}
\begin{Verbatim}[commandchars=\\\{\}]
    \textcolor{root}{root#} \textcolor{command}{apt} install i3 --no-install-recommends
\end{Verbatim}
\subsection{Run i3 after Xorg starts}
\begin{Verbatim}[commandchars=\\\{\}]
File (\textcolor{file}{~/.xinitrc}) (0644):
\underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.xinitrc}}
\end{Verbatim}
\subsection{i3config}
\begin{Verbatim}[commandchars=\\\{\}]
- Install:
    \textcolor{root}{root#} \textcolor{command}{apt} install i3-wm i3blocks i3lock numlockx rofi feh scrot
    
- Configuration:
File (\textcolor{file}{~/.config/i3/config}) (0644):
\underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.config/i3/config}}
\end{Verbatim}

\subsection{urxvt}
\begin{Verbatim}[commandchars=\\\{\}]
- Installation:
    \textcolor{root}{root#} \textcolor{command}{apt} install rxvt-unicode-256color

- Configuration:
File (\textcolor{file}{~/.Xresources}) (0644):
\underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.Xresources}}

- Refresh X database for file and restart urxvt:
    \textcolor{root}{root#} \textcolor{command}{xrdb} \textcolor{file}{~/.Xresources}
    
- Execute read in X database every time i3 is started:
File (\textcolor{file}{~/.config/i3/config}) (0644):
exec xrdb ~/.Xresources

- Set ad default emulator:
    \textcolor{root}{root#} \textcolor{command}{update-alternatives} --config x-terminal-emulator
\end{Verbatim}


\subsection{i3blocks - WiP}
\begin{Verbatim}[commandchars=\\\{\}]
i3blocks visual:
File (\textcolor{file}{/etc/i3blocks.conf}) (0644):
\underline{\url{https://github.com/AISK11/raspberrypi4/blob/main/config_files/i3blocks.conf}}

Required scripts:
Dir (\textcolor{dir}{~/.config/i3/scripts/}):
\underline{\url{https://github.com/AISK11/debian/tree/main/dotfiles/.config/i3/scripts}}
\end{Verbatim}

\section{lxappearance}
\begin{Verbatim}[commandchars=\\\{\}]
- Install:
    \textcolor{root}{root} \textcolor{command}{apt} install lxappearance
    
- Usage;
    \textcolor{user}{user\$} \textcolor{command}{lxappearance}
\end{Verbatim}


\chapter{Nvidia and Intel GPU}
\section{Monitor}
\begin{Verbatim}[commandchars=\\\{\}]
- Find supported resolution and refresh rate:
    \textcolor{user}{user\$} \textcolor{command}{xrandr}
\end{Verbatim}

\section{GPUs}
\subsection{Detection}
\begin{Verbatim}[commandchars=\\\{\}]
- Find GFX:
    \textcolor{root}{root#} \textcolor{command}{lspci} | grep -i [vga|3d]
    
- Find via xrandr:
    \textcolor{user}{user\$} \textcolor{command}{xrandr} --listproviders
\end{Verbatim}
\subsection{Setup}
\begin{Verbatim}[commandchars=\\\{\}]
- Create File (\textcolor{file}{/etc/X11/xorg.conf}):
\textcolor{comment}{# \$(man intel)}
Section "Device"
    Identifier  "Intel Graphics"
    Driver      "intel"
    Option      "Backlight" "intel_backlight"
EndSection

Section "Device"
    Identifier  "Nvidia Graphics"
    Driver      "nvidia"
    Option      "NoLogo" "1"
    Option      "RenderAccel" "1"
    Option      "TripleBuffer" "true"
    Option      "MigrationHeuristic" "greedy"
EndSection

- Change brightness:
    \textcolor{user}{user\$} \textcolor{command}{xbacklight} <-get|-set <0-100>>
\end{Verbatim}

\section{Intel}
\subsection{Installation}
\begin{Verbatim}[commandchars=\\\{\}]
- Check if installed:
    \textcolor{user}{user\$} \textcolor{command}{modinfo} i915
\end{Verbatim}

\subsection{Monitoring}
\begin{Verbatim}[commandchars=\\\{\}]
- Installation
    \textcolor{root}{root#} \textcolor{command}{apt} install intel-gpu-tool
    
- Monitoring tool:
    \textcolor{root}{root#} \textcolor{command}{intel_gpu_top} [-s <MILISECONDS>]
\end{Verbatim}

\section{Nvidia}
\subsection{Installation}
\begin{Verbatim}[commandchars=\\\{\}]
- Detect:
    \textcolor{root}{root#} \textcolor{command}{apt} install nvidia-detect
    \textcolor{user}{user\$} \textcolor{command}{nvidia-detect}

- Install drivers:
    \textcolor{root}{root#} \textcolor{command}{apt} install linux-headers-amd64 nvidia-driver firmware-misc-nonfree

- Additional packages (not needed):
    \textcolor{root}{root#} \textcolor{command}{apt} install nvidia-cuda-dev nvidia-cuda-toolkit    
    nvidia-opencl-common nvidia-opencl-icd
    
- Purge primus needed by steam (libGL.so.1), so Nvidia optimus is used:
    \textcolor{root}{root#} \textcolor{command}{apt} purge primus-nvidia
    
- Check if installed:
    \textcolor{user}{user\$} \textcolor{command}{modinfo} [-F version] nvidia-current
\end{Verbatim}
\subsection{Monitoring}
\begin{Verbatim}[commandchars=\\\{\}]
- Install monitoring tool:
    \textcolor{root}{root#} \textcolor{command}{apt} install nvtop
    
- Monitoring tool:
    \textcolor{user}{user\$} \textcolor{command}{nvtop}
\end{Verbatim}
\subsection{Optimus - run app}
\begin{Verbatim}[commandchars=\\\{\}]
- Steam Game Properties:
__NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia \%command\%

- Other APP (not tested!)
__NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia <APPLICATION>
\end{Verbatim}



\chapter{Pacakges}
\begin{Verbatim}[commandchars=\\\{\}]
apt install apt-file
apt-file update
apt-file find <FILE>

Apps:
firefox-esr git psmisc


ocrmypdf - pdf to selectable text

\end{Verbatim}


\end{document}
