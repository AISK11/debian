\documentclass[10pt, a4paper, onecolumn, openany]{book} % openany make chapter start whenever, DELETE in OFFICIAL

% PACKAGES:
% Font Encoding
\usepackage[utf8]{inputenc}     % Use UTF-8
\usepackage[T1]{fontenc}        % T1 font encoding (latin characters)
% Header
\usepackage{fancyhdr}           % fancy page header options
\usepackage{titlesec}           % used to have \thechapter in same line as \chaptertitlename
% MISC
\usepackage{hyperref}           % \url{}
\usepackage{xurl}
\usepackage{graphicx}           % images
\usepackage{xcolor}            % colors
\usepackage{fancyvrb}          % colors in Verbatin, header: \begin{Verbatim}[commandchars=\\\{\}]

% DECORATIVE LINES + CHAPTER IN SAME LINE:
\renewcommand{\headrulewidth}{2pt}  % Top decorative line
\renewcommand{\footrulewidth}{2pt}  % Bottom decorative line
\pagestyle{fancy}                   % better header for normal pages, not only chapter ones
\fancyhf{}                          % clear header and adjust as wanted:
    \chead{\leftmark}               % header
    \cfoot{Page \thepage}           % footer
\fancypagestyle{plain}{
\fancyhf{} 
    \chead{\leftmark}       % header
    \cfoot{Page \thepage}   % footer
}
\renewcommand{\chaptername}{}       % change word chapter to {}
\titleformat{\chapter}[hang]{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter.}{1em}{} % Chapter in same line as chapter name

% SIZES OF SECTIONS:
\titleformat*{\section}{\LARGE\bfseries}
\titleformat*{\subsection}{\Large\bfseries}
\titleformat*{\subsubsection}{\large\bfseries}

% DISABLE huge space after (paragraph indent) section name before text starts:
\setlength{\parindent}{0pt}

% COLOR EXAMPLES:
% \definecolor{MyColor}{RGB}{219, 48, 122}  % define
% \textcolor{MyColor}{Some random text}     % usage in document
\definecolor{root}{RGB}{222, 0, 0}
\definecolor{user}{RGB}{0, 150, 00}
\definecolor{dir}{RGB}{0, 100, 200}
\definecolor{file}{RGB}{77, 187, 101}
\definecolor{block}{RGB}{255, 80, 0}
\definecolor{command}{RGB}{41, 182, 0}
\definecolor{comment}{RGB}{0, 182, 182}
\definecolor{background}{RGB}{240, 240, 240}

% COLORS FOR CODE in document:
%\begin{minted}[frame=lines,framesep=2mm,baselinestretch=1.2,fontsize=\footnotesize,linenos]{js}
%\end{minted}

% IMAGES:
\graphicspath{./images/} % define directory
% \includegraphics[scale=1.5]{./images/random_image.png} % usage in document

% TABLE:
% \begin{center}
%    \begin{small}
%    \begin{tabular}{|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|}
%    \hline
%    + & - & * & / & \% & ** & () \\
%    \hline
%    1 & 2 & 3 & 4 & 5 & 6 & 7 \\
%    \hline
%    \end{tabular}
%    \end{small}
%\end{center}

%\titlespacing*{\section}{0pt}{1.5cm}{0.2cm}
%\titlespacing*{\subsection}{0pt}{0.2cm}{0.2cm}

% colored verbatim BG:
%\let\oldv\verbatim
%\let\oldendv\endverbatim
%\def\verbatim{\par\setbox0\vbox\bgroup\oldv}
%\def\endverbatim{\oldendv\egroup\fboxsep0pt \noindent\colorbox[gray]{0.9}{\usebox0}\par}
% colored Verbatim BG (supported colors: https://linuxhint.com/change-text-colors-latex/):
\renewcommand{\FancyVerbFormatLine}[1]{\colorbox{background}{#1}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TITLE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{\textbf{Debian v2}}
\author{AISK}
\date{September, 2021}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% START %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle
%\clearpage % official blank page
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Pre-Installation %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Pre-Installation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Check Harddrive for bad sectors}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Theory}
\begin{itemize}
    \item \textbf{Block:} every file must occupy at least 1 block. 0b file occupy whole block.
    \begin{itemize}
        \item \textbf{512b =} good for lot of small files. More blocks = more metadata.
        \item \textbf{4096b =}  good for larger files, less metadata. Waste if there are small files.
    \end{itemize}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Info gathering}
\begin{itemize}
    \item Info about block devices:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$}  \textcolor{command}{lsblk} [-ap | -apf]
\textcolor{root}{root#}  \textcolor{command}{fdisk -l} <\textcolor{block}{/dev/sdX}>
\textcolor{root}{root#}  \textcolor{command}{blkid}
\end{Verbatim}
    \item Get disk blocksize in bytes:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getbsz <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
    \item Get disk size in bytes:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getsize64 <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
    \item Check if device is readonly (1 = ro, 0 = rw):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getro <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Check for bad sectors}
\begin{enumerate}
    \item Unmount FS!
    \item Check for bad blocks:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{badblocks} [-b 4096] [-w [-t 0xaa]] [-v] [-s] [-o <FILE>] 
<\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Flash USB %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Flash USB}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Flash ISO to USB}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{enumerate}
    \item Download ISO from: \underline{\url{https://www.debian.org/distrib/}}
    \item Unmount FS!
    \item Flash:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dd} if=<\textcolor{file}{/<PATH>/<ISO.iso>}> of=<\textcolor{block}{/dev/sdX}> [bs=4M | status=progress]
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Post-Installation %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Post-Installation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable pcspkr}
\begin{enumerate}
    \item Turn off bell for CLI mode:
\newline File: (\textbf{\textcolor{file}{/etc/inputrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
set bell-style none
\end{Verbatim}
    \item Blacklist pcspkr module:
\newline File: (\textbf{\textcolor{file}{/etc/modprobe.d/blacklist.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
blacklist pcspkr
\end{Verbatim}
    \item Update initramfs:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{depmod} -a
\textcolor{root}{root#} \textcolor{command}{update-initramfs} -u
\textcolor{root}{root#} \textcolor{command}{reboot}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{APT sources}
\begin{enumerate}
    \item Avoid using \textit{stable}, use \textit{release-name} instead.
    \item APT sources file:
\newline File (\textbf{\textcolor{file}{/etc/apt/sources.list}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## deb http://deb.debian.org/debian testing main [contrib] [non-free]}
\textcolor{comment}{## deb-src http://deb.debian.org/debian testing main [contrib] [non-free]}

deb http://deb.debian.org/debian bullseye main contrib non-free
deb-src http://deb.debian.org/debian bullseye main contrib non-free

deb http://deb.debian.org/debian-security/ bullseye-security main \char92
contrib non-free
deb-src http://deb.debian.org/debian-security/ bullseye-security main \char92
contrib non-free

deb http://deb.debian.org/debian bullseye-updates main contrib non-free
deb-src http://deb.debian.org/debian bullseye-updates main contrib non-free
\end{Verbatim}
    \item Update system:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} clean
\textcolor{root}{root#} \textcolor{command}{apt} update
\textcolor{root}{root#} \textcolor{command}{apt} full-upgrade [-y]
\textcolor{root}{root#} \textcolor{command}{apt} autoremove [-y]
\textcolor{root}{root#} \textcolor{command}{init} 6
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Drivers}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Network Drivers}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{iwlwifi}
\begin{enumerate}
    \item Needs \textit{contrib} and \textit{non-free} packages!
    \item Install driver:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install firmware-iwlwifi
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% GRUB %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{GRUB}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Configuration}
\begin{enumerate}
    \item Basic GRUB settings:
\newline File (\textbf{\textcolor{file}{/etc/default/grub}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## do not rename net interfaces:}
GRUB_CMDLINE_LINUX="net.ifnames=0 biosdevname=0"

\textcolor{comment}{## highlighted default entry:}
GRUB_DEFAULT=0
\textcolor{comment}{## boot default entry in X seconds, 0=immediately, -1=never:}
GRUB_TIMEOUT=1
\textcolor{comment}{## menu=timeout to select entry, hidden=timeout to show grub:}
GRUB_TIMEOUT_STYLE=menu
\textcolor{comment}{## disable recovery menu entry:}
GRUB_DISABLE_RECOVERY=true
\textcolor{comment}{## GRUB BG image (*.jpg or *.png) - gfxterm only:}
#GRUB_BACKGROUND="\textcolor{file}{/boot/grub/<image.png>}"
\textcolor{comment}{## theme - gfxterm only:}
#GRUB_THEME="\textcolor{file}{/boot/grub/themes/<THEME>/theme.txt}"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Menu Colors}
\begin{center}
    \begin{small}
    \begin{tabular}{|p{4cm}|p{4cm}|}
    \hline
    \textbf{Color BG} & \textbf{Color BG + FG} \\
    \hline
    black & X \\
    \hline
    blue & light-blue \\
    \hline
    green & light-green \\
    \hline
    cyan & light-cyan \\
    \hline
    red & light-red \\
    \hline
    magenta & light-magenta \\
    \hline
    brown & yellow \\
    \hline
    light-gray & dark-gray  \\
    \hline
    \end{tabular}
    \end{small}
\end{center}
\begin{enumerate}
    \item Edit customization file:
\newline File (\textbf{\textcolor{file}{/boot/grub/custom.cfg}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## <foreground>/<background>}
set color_normal=white/black
set color_highlight=black/white
set menu_color_normal=white/black
set menu_color_highlight=black/white
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Update GRUB}
\label{GRUB}
\begin{enumerate}
    \item Update GRUB:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{grub-mkconfig} -o \textcolor{file}{/boot/grub/grub.cfg}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Local Settings %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Local Settings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Password}
\begin{itemize}
    \item User-change:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{passwd}
\end{Verbatim}
    \item Root-change:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{passwd} root
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Privilege escalation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{doas}
\begin{enumerate}
    \item Dependenices1:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install doas
\end{Verbatim}
    \item Configuration:
\newline File (\textbf{\textcolor{file}{/etc/doas.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## <permit|deny> [nopass|persist] <USER>[:GROUP] [as <USER2>]}
\textcolor{comment}{[cmd <COMMAND> [args <ARGUMENTS>]}
permit nopass <USER>
\end{Verbatim}    
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Run GUI programs as root}
\begin{enumerate}
    \item Run GUI programs as root:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{xhost} local:root
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Hostname}
\begin{enumerate}
    \item Display hostname:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{hostname}
\end{Verbatim}
    \item Change hostname:
\newline File (\textbf{\textcolor{file}{/etc/hostname}}):
\begin{Verbatim}[commandchars=\\\{\}]
<HOSTNAME>
\end{Verbatim}
File (\textbf{\textcolor{file}{/etc/hosts}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
127.0.1.1   <HOSTNAME>
...
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Time and Date}
\begin{enumerate}
    \item Show current timezone:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{timedatectl} -a
\end{Verbatim}
    \item List available timezones:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{timedatectl} list-timezones
\end{Verbatim}
    \item Change timezone:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{timedatectl} set-timezone <UTC|Europe/Copenhagen>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Locales and Keyboard}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Locales}
\begin{enumerate}
    \item Show current locales:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{locale}
\end{Verbatim}
    \item Change locales:
\newline File: (\textbf{\textcolor{file}{/etc/default/locale}}):
\begin{Verbatim}[commandchars=\\\{\}]
LANG=en_US.UTF-8
\textcolor{comment}{## First day in a week MON, not SUN:}
#LC_TIME="en_GB.UTF-8"
\textcolor{comment}{## Default paper size:}
#LC_PAPER="en_GB.UTF-8"
#LC_MEASUREMENT="en_GB.UTF-8"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{CLI Keyboard}
\begin{itemize}
    \item Available keyboards: \textcolor{dir}{/usr/share/keymaps/i386/}
\end{itemize}
\begin{enumerate}
    \item Set keyboard:
\newline File (\textbf{\textcolor{file}{/etc/default/keyboard}}):
\begin{Verbatim}[commandchars=\\\{\}]
XKBMODEL="pc105"
XKBLAYOUT="us"
XKBVARIANT=""
XKBOPTIONS=""
BACKSPACE="guess"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Network %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Network}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Rename Interface}
\begin{itemize}
    \item Check GRUB settings in \underline{\textbf{\ref{GRUB}}}
    \item Manually rename interfaces:
\newline File: (\textcolor{file}{\textbf{/etc/udev/rules.d/70-persistent-net.rules}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## eth0:}
#SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", \char092
#<ATTR\{address\}=="<MAC-ADDRESS>"|ENV\{ID_NET_NAME_PATH\}=="<enp3s0>">, \char092
#ATTR\{type\}=="1", KERNEL=="eth*", NAME="<eth0>"
\textcolor{comment}{## wireless:}
#SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", \char092
#<ATTR\{address\}=="<MAC-ADDRESS>"|ENV\{ID_NET_NAME_PATH\}=="<wlp0s20f3>">, \char092
#ATTR\{type\}=="1", KERNEL=="wlan*", NAME="<wlan0>"
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Wireless}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install rfkill
\end{Verbatim}
    \item List RF devices:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rfkill} list
\end{Verbatim}
    \item Block/unblock BT and WiFi:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rfkill} <block|unblock> <bluetooth|wlan>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable IPv6}
\begin{enumerate}
    \item Disable IPv6 globally:
\newline File: (\textcolor{file}{\textbf{/etc/sysctl.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
net.ipv6.conf.all.disable_ipv6 = 1
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable unnecessary networking service}
\begin{enumerate}
    \item Disable unnecessary networking service.
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} disable networking.service
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable interface autostart}
\begin{enumerate}
    \item Disable hotplug:
\newline File: (\textbf{\textcolor{file}{/etc/network/interfaces}}):
\begin{Verbatim}[commandchars=\\\{\}]
###allow-hotplug eth0
###iface eth0 inet <manual|dhcp>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{DHCP client}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Set Up DHCP client}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install dhcpcd5
\end{Verbatim}
    \item Do not run DHCP on startup:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} disable dhcpcd.service
\end{Verbatim}
    \item Configure DHCP client:
\newline File: (\textbf{\textcolor{file}{/etc/dhcpcd.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Inform DHCP server of our hostname for DDNS.}
###hostname
\textcolor{comment}{## Persist interface configuration when dhcpcd exits.}
###persistent
\textcolor{comment}{## A list of options to request from the DHCP server.}
###option domain_name_servers, domain_name, domain_search, host_name

\textcolor{comment}{## Rapid commit support.}
option rapid_commit
\textcolor{comment}{## A list of options to request from the DHCP server.}
option classless_static_routes
\textcolor{comment}{## Respect the network MTU. This is applied to DHCP routes.}
option interface_mtu
\textcolor{comment}{## A ServerID is required by RFC2131.}
require dhcp_server_identifier
\textcolor{comment}{## Generate SLAAC address using the Hardware Address of the interface}
###slaac hwaddr
\textcolor{comment}{## OR generate Stable Private IPv6 Addresses based from the DUID}
slaac private
\end{Verbatim}
    \item Purge old DHCP client:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dpkg} --purge <isc-dhcp-client isc-dhcp-common>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Remove DHCP lease info}
\begin{enumerate}
    \item Remove previous lease info:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rm} -f /var/lib/dhcpcd/*
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{DNS}
\begin{enumerate}
    \item Set up custom DNS servers:
\newline File: (\textbf{\textcolor{file}{/etc/resolv.conf}}) (0644):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Uncensored DNS - Denmark - Unicast}
nameserver 89.233.43.71
\textcolor{comment}{## CZ.NIC}
nameserver 193.17.47.1
nameserver 185.43.135.1
\textcolor{comment}{## Quad9}
nameserver 1.1.1.1
nameserver 1.0.0.1
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Ethernet}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Check carrier speed}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install ethtool
\end{Verbatim}
    \item Check carrier speed:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{ethtool} <eth0>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{WiFi}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Check carrier speed}
\begin{enumerate}
    \item Check carrier speed:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{iwlist} <wlan0> bitrate
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{WLAN authentication}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install wpasupplicant
\end{Verbatim}
    \item Confiugre authentication file:
\newline File (\textbf{\textcolor{file}{/etc/wpa\_supplicant/wpa\_supplicant.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{# Basic settings and language for zones:}
ctrl_interface=/run/wpa_supplicant
update_config=1
country=<2-LETTER-ISO-CODE>

\textcolor{comment}{# WPA-PSK protected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=WPA-PSK WPA-EAP
    \textcolor{comment}{#psk="<PLAINTEXT-PASSWD>"}
    psk=<32byte-HEX-NUMBER>
    priority=1 \textcolor{comment}{# To which WiFi connect first}
\}

\textcolor{comment}{# WPA-EAP protected::}
network=\{
        ssid="<ESSID>"
        scan_ssid=1
        key_mgmt=WPA-EAP
        \textcolor{comment}{#eap=PEAP}
        identity="<USERNAME>@<DOMAIN>"
        \textcolor{comment}{#password="<PLAINTEXT-PASSWD>"}
        psk=<32byte-HEX-NUMBER>
        \textcolor{comment}{#ca_cert="/etc/cert/ca.pem"}
        \textcolor{comment}{#phase1="peaplabel=0"}
        phase2="auth=MSCHAPV2"
        priority=2
\}

\textcolor{comment}{# Unprotected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=NONE
    priority=3 \textcolor{comment}{# To which WiFi connect first}
\}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Connect to WiFi}
\begin{enumerate}
    \item Remove previous active config file (if exists):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rm} -f \textcolor{file}{/run/wpa_supplicant/wlan0}
\end{Verbatim}
    \item Start wpa\_supplicant service (WiFi only):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} start wpa_supplicant.service
\end{Verbatim}
    \item Start DHCP:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} start dhcpcd.service
\end{Verbatim}
    \item Apply wpa\_supplicant settings (WiFi only):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{wpa_supplicant} -B -D wext -i <wlan0>
-c \textcolor{file}{/etc/wpa_supplicant/wpa_supplicant.conf}
\end{Verbatim}
    \item Run DHCP on interface:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dhcpcd} <wlan0>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Shell and Texteditor %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Texteditor and Shell}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Texteditor}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{vim}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install vim
\end{Verbatim}
    \item Set as default text editor:
    \begin{enumerate}
        \item Show available editors:
        \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --list editor
\end{Verbatim}
        \item Change default editor:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set editor /usr/bin/vim.basic
\end{Verbatim}
    \end{enumerate}
    \item Configure:
\newline File (\textbf{\textcolor{file}{\~/.vimrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{"" Tab = 4 chars:}
set autoindent
set noexpandtab
set tabstop=4
set shiftwidth=4

\textcolor{comment}{"" Number lines:}
"set number

\textcolor{comment}{"" Colors:}
syntax on
"colorscheme murphy

\textcolor{comment}{"" Filename edited:}
set laststatus=2
\textcolor{comment}{"" Statusline:}
set statusline=\%F\char92 \%p\%\%\char92 [\%l:\%c]\char92 \%M\char92 \%R
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{bvi}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install bvi
\end{Verbatim}
    \item Configure:
\newline File (\textbf{\textcolor{file}{\~/.bvirc}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{"" Enable edit:}
set memmove
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Shell}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{zsh}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install zsh zsh-autosuggestions zsh-syntax-highlighting
\end{Verbatim}
    \item Set as default shell:
    \begin{itemize}
        \item User change:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{chsh} -s \textcolor{file}{/bin/zsh}
\end{Verbatim}
        \item Root change:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{usermod} -s \textcolor{file}{/bin/zsh} <USER>
\end{Verbatim}
    \end{itemize}
    \item Configure:
\newline File (\textbf{\textcolor{file}{\~/.zshrc}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.zshrc}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Web Browser %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Web Browser}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install firefox-esr
\end{Verbatim}
    \item Set as default browser:
    \begin{enumerate}
        \item Show available browsers:
        \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --list x-www-browser
\end{Verbatim}
        \item Change default browser:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set x-www-browser /usr/bin/firefox-esr
\end{Verbatim}
    \end{enumerate}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Audio %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Audio}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Audio Control}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install alsa-utils
\end{Verbatim}
\end{enumerate}
\begin{itemize}
    \item Get Master/Capture audio:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{amixer} get <Master/Capture>
\end{Verbatim}
    \item Set mute/unmute/toggle Master/Capture audio:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{amixer} set <Master/Capture> <mute|unmute|toggle>
\end{Verbatim}
    \item Set volume Master/Capture audio:
    \begin{itemize}
        \item Specific value:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{amixer} set <Master/Capture> <0-100>\%
\end{Verbatim}
        \item Increase/decrease value:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{amixer} set <Master/Capture> <0-100>\%<+|->    
\end{Verbatim}
    \end{itemize}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Microphone}
In case of mic problems, try to install pulseaudio.
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install pulseaduio
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% X %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{X}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Xorg}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install xorg x11-xserver-utils xinit
\end{Verbatim}
    \item Start X on tty1:
\newline File (\textbf{\textcolor{file}{\~/.bash\_profile}}||\textbf{\textcolor{file}{\~/.bashrc}}||\textbf{\textcolor{file}{\~/.zshrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
if [[ -z \$DISPLAY ]] && [[ \$(tty) = /dev/tty1 ]]; then
    source /etc/profile
    startx
fi
...
\end{Verbatim}
    \item xinit configuration:
\newline File (\textbf{\textcolor{file}{\~/.xinitrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Disable screen saver:}
xset s off
xset s noblank
xset -dpms

\textcolor{comment}{## Execute i3 WM after X is started:}
xrandr -s 1920x1080
exec i3
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% i3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{i3}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{i3 (do not install with i3-gaps)}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install i3 --no-install-recommends
\textcolor{root}{root#} \textcolor{command}{apt} install i3-wm
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{i3-gaps (do not install with i3)}
URL: (\underline{https://github.com/Airblader/i3/wiki/Building-from-source})
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install make meson git ninja-build
dh-autoreconf libxcb-keysyms1-dev
libxcb-util0-dev xcb libxcb1-dev libxcb-icccm4-dev libyajl-dev
libev-dev libxcb-xkb-dev libxcb-cursor-dev libxkbcommon-dev 
libxcb-xinerama0-dev libxkbcommon-x11-dev libpango1.0-dev
libstartup-notification0-dev libxcb-randr0-dev libxcb-xrm0 
libxcb-xrm-dev libxcb-shape0 libxcb-shape0-dev
\end{Verbatim} 
    \item Clone i3-haps:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{cd} \textcolor{dir}{/etc/}
\textcolor{root}{root#} \textcolor{command}{git} clone https://www.github.com/Airblader/i3 i3-gaps
\textcolor{user}{user\$} \textcolor{command}{cd} \textcolor{dir}{./i3-gaps/}
\end{Verbatim}
    \item Compile:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkdir} -p \textcolor{dir}{build} && cd \textcolor{dir}{build}
\textcolor{root}{root#} \textcolor{command}{meson} --prefix \textcolor{file}{/usr/local}
\textcolor{root}{root#} \textcolor{command}{ninja}
\textcolor{root}{root#} \textcolor{command}{ninja} install
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{run i3 after Xorg}
\begin{enumerate}
    \item Run i3 on X init:
\newline File (\textbf{\textcolor{file}{\~/.xinitrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{# Disable screen saver:}
xset s off
xset s noblank
xset -dpms

\textcolor{comment}{# Execute i3 WM after X is started:}
exec i3
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{i3 config}
\begin{enumerate}
    \item i3 configuration:
\newline File (\textbf{\textcolor{file}{\~/.config/i3/config}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.config/i3/config}}
    \item i3 scripts:
\newline \underline{\url{https://github.com/AISK11/debian/tree/main/dotfiles/.config/i3/scripts}}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{chmod} +x \textcolor{file}{~/.config/i3/scripts/*}
\end{Verbatim}
    \item i3 wallpaper and lock screen:
\newline \underline{\url{https://github.com/AISK11/debian/tree/main/dotfiles/.config/i3/images}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% i3 Programs %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{i3 Programs}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{i3blocks}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install i3blocks i3lock numlockx rofi feh scrot light xclip
\end{Verbatim}
    \item i3blocks config:
\newline File (\textbf{\textcolor{file}{/etc/i3blocks.conf}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/config_files/i3blocks.conf}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{urxvt}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install rxvt-unicode-256color compton
\end{Verbatim}
    \item Configuration:
\newline File (\textbf{\textcolor{file}{\~/.Xresources}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.Xresources}}
    \item Load changed config:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{xrdb} \textcolor{file}{~/.Xresources}
\end{Verbatim}
    \item Set as default CLI emulator:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --list x-terminal-emulator
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set x-terminal-emulator \textcolor{file}{/usr/bin/urxvt}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Fonts}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install imagemagick
\end{Verbatim}
    \item List installed fonts:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{fc-list}
\end{Verbatim}
    \item Display specific font:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{display} </PATH/TO/font.ttf>
\end{Verbatim}
    \item Font Awesome:
\newline Dir (\textbf{\textcolor{dir}{\~/.fonts/}}):
\newline \underline{\url{https://github.com/AISK11/debian/tree/main/dotfiles/.fonts}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{lxappearance (GTK)}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install lxappearance
\end{Verbatim}
    \item Add themes and icons:
\newline Dir (\textbf{\textcolor{dir}{\~/.themes/}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.themes.tar.bz2}}
\newline Dir (\textbf{\textcolor{dir}{\~/.icons/}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.icons.tar.bz2}}
    \item Change GTK theme and icons:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{lxappearance}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Nvidia + Intel GPU (Optimus) %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Nvidia + Intel GPU (Optimus)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Detection and Xorg conf}
\begin{enumerate}
    \item Detect Video cards:
\begin{itemize}
    \item Detect with lspci:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{egrep} -i "vga|3d"
\end{Verbatim}
    \item Detect with xrandr:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{xrandr} --listproviders
\end{Verbatim}
\end{itemize}
    \item Xorg config:
\newline File (\textbf{\textcolor{file}{/etc/X11/xorg.conf}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/config_files/xorg.conf}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Intel}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install intel-gpu-tools
\end{Verbatim}
    \item Checks:
\begin{itemize}
    \item Check if intel module is present:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{modinfo} i915
\end{Verbatim}
    \item Check intel GPU utilization:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{intel_gpu_top} [-s <MILISECONDS>]
\end{Verbatim}
\end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Nvidia}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install nvidia-detect nvtop linux-headers-amd64 nvidia-driver
firmware-misc-nonfree
\end{Verbatim}    
    \item Additional dependencies (\textbf{not needed!}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install nvidia-cuda-dev nvidia-cuda-toolkit 
nvidia-opencl-common nvidia-opencl-icd
\end{Verbatim}
    \item Purge problematic primus-nvidia (required only during Steam install):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} purge primus-nvidia
\end{Verbatim}
    \item Checks:
\begin{itemize}
    \item Check if Nvidia module is installed:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{modinfo} [-F version] nvidia-current
\end{Verbatim}
    \item Check suggested Nvidia packages:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{nvidia-detect}
\end{Verbatim}
    \item Check Nvidia GPU utilization:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{nvtop}
\end{Verbatim}
\end{itemize}
    \item Run program with Nvidia GPU:
\begin{itemize}
    \item Linux programs:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} __NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia 
\textcolor{command}{<APPLICATION>}
\end{Verbatim}
    \item Steam Game (set in Game Properties):
\begin{Verbatim}[commandchars=\\\{\}]
__NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia \%command\%
\end{Verbatim}
\end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% KVM %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{KVM - WiP}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Programs %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Programs - WiP}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{System}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{apt-file}
Needed for: \textbf{apt-file}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt} install apt-file
\end{Verbatim}
    \item Initialize:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt-file} update
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt-file} search -x <FILE>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{psmisc}
Needed for: \textbf{killall}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt} install mpsmisc
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{htop}
Needed for: \textbf{htop}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt} install htop
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{htop}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Devices}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{MTP}
Note: use original cable, some cables may not work.
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt} install mtp-tools jmtpfs
\end{Verbatim}
    \item Check if MTP device is detected:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{mtp-detect}
\end{Verbatim}
    \item Mount MTP device:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkdir} \textcolor{dir}{/mnt/mtp/}
\textcolor{root}{root#} \textcolor{command}{chmod} 0777 \textcolor{dir}{/mnt/mtp/}
\textcolor{root}{root#} \textcolor{command}{jmtpfs} \textcolor{dir}{/mnt/mtp/}
\end{Verbatim}
    \item Unmount MTP device:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{fusermount} -u \textcolor{dir}{/mnt/mtp/}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Security}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{KeePassXC}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install keepassxc
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{keepassxc}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Download/Convert}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{youtube-dl}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install youtube-dl
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{youtube-dl} -x --no-playlist --audio-format "mp3" --audio-quality 0 
--console-title "<URL>"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{ocrmypdf}
PDF to OCR PDF.
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install ocrmypdf
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{ocrmypdf} <INPUT.pdf> <OUTPUT.pdf>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Images to PDF}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install imagemagick
\end{Verbatim}
    \item Fix Error \textit{"convert-im6.q16: attempt to perform an operation not allowed by the security policy `PDF' @ error/constitute.c/IsCoderAuthorized/421."}:
\newline File (\textcolor{file}{/etc/ImageMagick-6/policy.xml}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{<!-- Add read/write rights -->}
<policy domain="coder" rights="read|write" pattern="PDF" />
\end{Verbatim}
    \item Convert images to PDF:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{convert} <IMAGES> <OUTPUT>.pdf
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Multimedia}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Play Video}
\begin{enumerate}
    \item Dependencies: mpv
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Edit Video}
\begin{enumerate}
    \item Dependencies: openshot-qt
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Record Video}
\begin{enumerate}
    \item Dependencies: obs-studio
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Social}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Lightcord}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Flex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{neofetch}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Gomatrix}




\end{document}
