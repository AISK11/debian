\documentclass[10pt, a4paper, onecolumn, openany]{book} % openany make chapter start whenever, DELETE in OFFICIAL

% PACKAGES:
% Font Encoding
\usepackage[utf8]{inputenc}     % Use UTF-8
\usepackage[T1]{fontenc}        % T1 font encoding (latin characters)
% Header
\usepackage{fancyhdr}           % fancy page header options
\usepackage{titlesec}           % used to have \thechapter in same line as \chaptertitlename
% MISC
\usepackage{hyperref}           % \url{}
\usepackage{xurl}
\usepackage{graphicx}           % images
\usepackage{xcolor}            % colors
\usepackage{fancyvrb}          % colors in Verbatin, header: \begin{Verbatim}[commandchars=\\\{\}]

% DECORATIVE LINES + CHAPTER IN SAME LINE:
\renewcommand{\headrulewidth}{2pt}  % Top decorative line
\renewcommand{\footrulewidth}{2pt}  % Bottom decorative line
\pagestyle{fancy}                   % better header for normal pages, not only chapter ones
\fancyhf{}                          % clear header and adjust as wanted:
    \chead{\leftmark}               % header
    \cfoot{Page \thepage}           % footer
\fancypagestyle{plain}{
\fancyhf{} 
    \chead{\leftmark}       % header
    \cfoot{Page \thepage}   % footer
}
\renewcommand{\chaptername}{}       % change word chapter to {}
\titleformat{\chapter}[hang]{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter.}{1em}{} % Chapter in same line as chapter name

% SIZES OF SECTIONS:
\titleformat*{\section}{\LARGE\bfseries}
\titleformat*{\subsection}{\Large\bfseries}
\titleformat*{\subsubsection}{\large\bfseries}

% DISABLE huge space after (paragraph indent) section name before text starts:
\setlength{\parindent}{0pt}

% COLOR EXAMPLES:
% \definecolor{MyColor}{RGB}{219, 48, 122}  % define
% \textcolor{MyColor}{Some random text}     % usage in document
\definecolor{root}{RGB}{222, 0, 0}
\definecolor{user}{RGB}{0, 150, 00}
\definecolor{dir}{RGB}{0, 100, 200}
\definecolor{file}{RGB}{77, 187, 101}
\definecolor{block}{RGB}{255, 80, 0}
\definecolor{command}{RGB}{41, 182, 0}
\definecolor{comment}{RGB}{0, 182, 182}
\definecolor{background}{RGB}{240, 240, 240}

% COLORS FOR CODE in document:
%\begin{minted}[frame=lines,framesep=2mm,baselinestretch=1.2,fontsize=\footnotesize,linenos]{js}
%\end{minted}

% IMAGES:
\graphicspath{./images/} % define directory
% \includegraphics[scale=1.5]{./images/random_image.png} % usage in document

% TABLE:
% \begin{center}
%    \begin{small}
%    \begin{tabular}{|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|}
%    \hline
%    + & - & * & / & \% & ** & () \\
%    \hline
%    1 & 2 & 3 & 4 & 5 & 6 & 7 \\
%    \hline
%    \end{tabular}
%    \end{small}
%\end{center}

%\titlespacing*{\section}{0pt}{1.5cm}{0.2cm}
%\titlespacing*{\subsection}{0pt}{0.2cm}{0.2cm}

% colored verbatim BG:
%\let\oldv\verbatim
%\let\oldendv\endverbatim
%\def\verbatim{\par\setbox0\vbox\bgroup\oldv}
%\def\endverbatim{\oldendv\egroup\fboxsep0pt \noindent\colorbox[gray]{0.9}{\usebox0}\par}
% colored Verbatim BG (supported colors: https://linuxhint.com/change-text-colors-latex/):
\renewcommand{\FancyVerbFormatLine}[1]{\colorbox{background}{#1}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TITLE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{\textbf{Debian v2}}
\author{AISK}
\date{September, 2021}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% START %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\maketitle
%\clearpage % official blank page
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Pre-Installation %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Pre-Installation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Check Harddrive for bad sectors}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Theory}
\begin{itemize}
    \item \textbf{Block:} every file must occupy at least 1 block. 0b file occupy whole block.
    \begin{itemize}
        \item \textbf{512b =} good for lot of small files. More blocks = more metadata.
        \item \textbf{4096b =}  good for larger files, less metadata. Waste if there are small files.
    \end{itemize}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Info gathering}
\begin{itemize}
    \item \textbf{Info about block devices:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$}  \textcolor{command}{lsblk} [-ap | -apf]
\textcolor{root}{root#}  \textcolor{command}{fdisk -l} <\textcolor{block}{/dev/sdX}>
\textcolor{root}{root#}  \textcolor{command}{blkid}
\end{Verbatim}
    \item \textbf{Get disk blocksize in bytes:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getbsz <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
    \item \textbf{Get disk size in bytes:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getsize64 <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
    \item \textbf{Check if device is readonly (1 = ro, 0 = rw):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{blockdev} [-v] --getro <\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Check for bad sectors}
\begin{enumerate}
    \item \textbf{Unmount FS!}
    \item \textbf{Check for bad blocks:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{badblocks} [-b 4096] [-w [-t 0xaa]] [-v] [-s] [-o <FILE>] 
<\textcolor{block}{/dev/sdX[Y]}>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Flash USB %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Flash USB}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Flash ISO to USB}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{enumerate}
    \item \textbf{Download ISO from:}
    \newline \underline{\url{https://www.debian.org/distrib/}}
    \item \textbf{Unmount FS!}
    \item \textbf{Flash:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dd} if=<\textcolor{file}{/<PATH>/<ISO.iso>}> of=<\textcolor{block}{/dev/sdX}> [bs=4M | status=progress]
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Post-Installation %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Post-Installation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable pcspkr}
\begin{enumerate}
    \item \textbf{Turn off bell for CLI mode (still enabled for vim, etc...):}
\newline File: (\textbf{\textcolor{file}{/etc/inputrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
set bell-style none
\end{Verbatim}
    \item \textbf{Blacklist pcspkr module for the whole system:}
    \begin{itemize}
        \item \textbf{Add module to be blacklisted:}
\newline File: (\textbf{\textcolor{file}{/etc/modprobe.d/blacklist.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
blacklist pcspkr
\end{Verbatim}
        \item \textbf{Update initramfs with blacklisted pcspkr module:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{depmod} -a
\textcolor{root}{root#} \textcolor{command}{update-initramfs} -u
\textcolor{root}{root#} \textcolor{command}{reboot}
\end{Verbatim}
    \end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{APT sources}
\begin{enumerate}
    \item \textbf{Avoid using \textit{stable}, use \textit{release-name} instead.}
    \item \textbf{APT sources file:}
\newline File (\textbf{\textcolor{file}{/etc/apt/sources.list}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## deb http://deb.debian.org/debian testing main [contrib] [non-free]}
\textcolor{comment}{## deb-src http://deb.debian.org/debian testing main [contrib] [non-free]}

deb http://deb.debian.org/debian bullseye main contrib non-free
deb-src http://deb.debian.org/debian bullseye main contrib non-free

deb http://deb.debian.org/debian-security/ bullseye-security main \char92
contrib non-free
deb-src http://deb.debian.org/debian-security/ bullseye-security main \char92
contrib non-free

deb http://deb.debian.org/debian bullseye-updates main contrib non-free
deb-src http://deb.debian.org/debian bullseye-updates main contrib non-free
\end{Verbatim}
    \item \textbf{Update system:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} <autoclean | clean> [-y]
\textcolor{root}{root#} \textcolor{command}{apt} update [-y]
\textcolor{root}{root#} \textcolor{command}{apt} <full-upgrade [-y] | dist-upgrade [-y]>
\textcolor{root}{root#} \textcolor{command}{apt} autoremove [-y]
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% GRUB %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{GRUB}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Configuration}
\begin{enumerate}
    \item \textbf{Basic GRUB settings:}
\newline File (\textbf{\textcolor{file}{/etc/default/grub}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Do not rename network interfaces and preserve default ethX and wlanX names:}
GRUB_CMDLINE_LINUX="net.ifnames=0 biosdevname=0"
\textcolor{comment}{## GRUB menu default option:}
GRUB_DEFAULT=0
\textcolor{comment}{## GRUB menu timeout:}
GRUB_TIMEOUT=1
\textcolor{comment}{## Disable recovery mode entry in GRUB menu:}
GRUB_DISABLE_RECOVERY=true

\textcolor{comment}{## GRUB BG image (*.jpg or *.png) - gfxterm only:}
#GRUB_BACKGROUND="\textcolor{file}{/boot/grub/<image.png>}"

\textcolor{comment}{## Theme - gfxterm only:}
#GRUB_THEME="\textcolor{file}{/boot/grub/themes/<THEME>/theme.txt}"

\textcolor{comment}{## Default Debian options:GRUB_CMDLINE_LINUX}
GRUB_DISTRIBUTOR=`lsb_release -i -s 2> /dev/null || echo Debian`
GRUB_CMDLINE_LINUX_DEFAULT="quiet"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Menu Colors}
\begin{center}
    \begin{small}
    \begin{tabular}{|p{4cm}|p{4cm}|}
    \hline
    \textbf{Color BG} & \textbf{Color BG + FG} \\
    \hline
    black & X \\
    \hline
    blue & light-blue \\
    \hline
    green & light-green \\
    \hline
    cyan & light-cyan \\
    \hline
    red & light-red \\
    \hline
    magenta & light-magenta \\
    \hline
    brown & yellow \\
    \hline
    light-gray & dark-gray  \\
    \hline
    \end{tabular}
    \end{small}
\end{center}
\begin{enumerate}
    \item \textbf{Edit customization file:}
\newline File (\textbf{\textcolor{file}{/boot/grub/custom.cfg}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## <foreground>/<background>}
set color_normal=white/black
set color_highlight=black/white
set menu_color_normal=white/black
set menu_color_highlight=black/white
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Update GRUB}
\label{GRUB}
\begin{enumerate}
    \item \textbf{Update GRUB:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{grub-mkconfig} -o \textcolor{file}{/boot/grub/grub.cfg}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Local Settings %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Local Settings}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Hostname and DNSDomainname}
\begin{enumerate}
    \item \textbf{Display hostname and dnsdomainname:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{hostname}
\textcolor{user}{user\$} \textcolor{command}{dnsdomainname}
\end{Verbatim}
    \item \textbf{Change hostname:}
\newline File (\textbf{\textcolor{file}{/etc/hostname}}):
\begin{Verbatim}[commandchars=\\\{\}]
<HOSTNAME>
\end{Verbatim}
File (\textbf{\textcolor{file}{/etc/hosts}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
127.0.1.1   <HOSTNAME>
#127.0.0.1  <HOSTNAME>.<DOMAIN-NAME> <HOSTNAME>
...
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Time and Date}
\begin{enumerate}
    \item \textbf{Show current timezone:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{timedatectl} -a
\end{Verbatim}
    \item \textbf{List available timezones:}
    \newline Dir: (\textcolor{dir}{/usr/share/zoneinfo/}).
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{timedatectl} list-timezones
\end{Verbatim}
    \item \textbf{Change timezone:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{timedatectl} set-timezone <UTC|Europe/Copenhagen>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Locales and Keyboard}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Locales}
\begin{enumerate}
    \item \textbf{Show current locales:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{locale}
\end{Verbatim}
    \item \textbf{Change locales:}
\newline File: (\textbf{\textcolor{file}{/etc/default/locale}}):
\begin{Verbatim}[commandchars=\\\{\}]
LANG=en_US.UTF-8
\textcolor{comment}{## First day in a week MON, not SUN:}
#LC_TIME="en_GB.UTF-8"
\textcolor{comment}{## Default paper size:}
#LC_PAPER="en_GB.UTF-8"
#LC_MEASUREMENT="en_GB.UTF-8"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{CLI Keyboard}
\begin{itemize}
    \item \textbf{Available keyboards:}
    \newline \textcolor{dir}{/usr/share/keymaps/i386/}
\end{itemize}
\begin{enumerate}
    \item \textbf{Set keyboard:}
\newline File (\textbf{\textcolor{file}{/etc/default/keyboard}}):
\begin{Verbatim}[commandchars=\\\{\}]
XKBMODEL="pc105"
XKBLAYOUT="us"
XKBVARIANT=""
XKBOPTIONS=""
BACKSPACE="guess"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Password}
\begin{itemize}
    \item \textbf{User-change:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{passwd}
\end{Verbatim}
    \item \textbf{Root-change:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{passwd} root
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Privilege escalation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{doas}
\begin{enumerate}
    \item \textbf{Dependenices:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install doas
\end{Verbatim}
    \item \textbf{Configuration:}
\newline File (\textbf{\textcolor{file}{/etc/doas.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## <permit|deny> [nopass|persist] <USER>[:GROUP] [as <USER2>]}
\textcolor{comment}{[cmd <COMMAND> [args <ARGUMENTS>]}
permit nopass <USER>
\end{Verbatim}    
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Run GUI programs as root}
\begin{enumerate}
    \item \textbf{Run GUI programs as root:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{xhost} local:root
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Network %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Network}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Rename Interface}
\begin{itemize}
    \item \textbf{Check GRUB settings in \underline{\textbf{\ref{GRUB}}}}
    \item \textbf{Manually rename interfaces:}
\newline File: (\textcolor{file}{\textbf{/etc/udev/rules.d/70-persistent-net.rules}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## eth0:}
#SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", \char092
#<ATTR\{address\}=="<MAC-ADDRESS>"|ENV\{ID_NET_NAME_PATH\}=="<enp3s0>">, \char092
#ATTR\{type\}=="1", KERNEL=="eth*", NAME="<eth0>"
\textcolor{comment}{## wireless:}
#SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", \char092
#<ATTR\{address\}=="<MAC-ADDRESS>"|ENV\{ID_NET_NAME_PATH\}=="<wlp0s20f3>">, \char092
#ATTR\{type\}=="1", KERNEL=="wlan*", NAME="<wlan0>"
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable networking service}
\begin{enumerate}
    \item \textbf{Disable unnecessary networking service:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} disable networking.service
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Wireless}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install rfkill
\end{Verbatim}
    \item \textbf{List RF devices:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rfkill} list
\end{Verbatim}
    \item \textbf{Block everything except Wi-Fi:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rfkill} block bluetooth fm gps nfc uwb wimax wwan
\end{Verbatim}
    \item \textbf{Unblock WiFi:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rfkill} unblock wlan
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable IPv6 (???)}
\begin{enumerate}
    \item \textbf{Disable IPv6 globally:}
\newline File: (\textcolor{file}{\textbf{/etc/sysctl.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
net.ipv6.conf.all.disable_ipv6 = 1
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disable interface autostart}
\begin{enumerate}
    \item \textbf{Disable hotplug:}
\newline File: (\textbf{\textcolor{file}{/etc/network/interfaces}}):
\begin{Verbatim}[commandchars=\\\{\}]
auto lo
iface lo inet loopback
#allow-hotplug eth0
iface eth0 inet manual
#allow-hotplug wlan0
iface wlan0 inet manual
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{DHCP client}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Set Up DHCP client}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install dhcpcd5
\end{Verbatim}
    \item \textbf{Do not run DHCP on startup:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} disable dhcpcd.service
\end{Verbatim}
    \item \textbf{Configure DHCP client:}
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/config_files/DHCP/dhcpcd.conf}}
\newline File: (\textbf{\textcolor{file}{/etc/dhcpcd.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
noipv4ll
noarp
noalias
slaac hwaddr
gateway
require dhcp_server_identifier
vendorclassid ""
\end{Verbatim}
    \item \textbf{Purge old DHCP client:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dpkg} --purge <isc-dhcp-client isc-dhcp-common>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Usage}
\begin{itemize}
    \item \textbf{Lease IP address:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dhcpcd} <INTERFACE>
\end{Verbatim}
    \item \textbf{Release IP address:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dhcpcd} --release <INTERFACE>
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Remove DHCP lease info}
\begin{enumerate}
    \item \textbf{Remove previous lease info:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rm} -f /var/lib/dhcpcd/*
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{DNS}
\begin{enumerate}
    \item \textbf{Set up custom DNS servers:}
\newline File: (\textbf{\textcolor{file}{/etc/resolv.conf}}) (0644):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Uncensored DNS - Denmark - Unicast}
nameserver 89.233.43.71
\textcolor{comment}{## CZ.NIC}
nameserver 193.17.47.1
nameserver 185.43.135.1
\textcolor{comment}{## Quad9}
nameserver 1.1.1.1
nameserver 1.0.0.1
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Ethernet}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Check carrier speed}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install ethtool
\end{Verbatim}
    \item \textbf{Check carrier speed:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{ethtool} <eth0>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{WiFi}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Check carrier speed}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install wireless-tools
\end{Verbatim}
    \item \textbf{Check carrier speed:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{iwlist} <wlan0> bitrate
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{WLAN authentication}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install wpasupplicant
\end{Verbatim}
    \item \textbf{Configure authentication file:}
\newline File (\textbf{\textcolor{file}{/etc/wpa\_supplicant/wpa\_supplicant.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{# Basic settings and language for zones:}
ctrl_interface=/run/wpa_supplicant
update_config=1
country=<2-LETTER-ISO-CODE>

\textcolor{comment}{# WPA-PSK protected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=WPA-PSK
    \textcolor{comment}{#psk="<PLAINTEXT-PASSWD>"}
    psk=<32byte-HEX-NUMBER>
    priority=1 \textcolor{comment}{# To which WiFi connect first}
\}

\textcolor{comment}{# WPA-EAP protected::}
network=\{
        ssid="<ESSID>"
        scan_ssid=1 \textcolor{comment}{# Find hidden network}
        key_mgmt=WPA-EAP
        \textcolor{comment}{#eap=PEAP}
        identity="<USERNAME>@<DOMAIN>"
        \textcolor{comment}{#password="<PLAINTEXT-PASSWD>"}
        psk=<32byte-HEX-NUMBER>
        \textcolor{comment}{#ca_cert="/etc/cert/ca.pem"}
        \textcolor{comment}{#phase1="peaplabel=0"}
        phase2="auth=MSCHAPV2"
        priority=2 \textcolor{comment}{# To which WiFi connect first}
\}

\textcolor{comment}{# Unprotected:}
network=\{
    ssid="<ESSID>"
    scan_ssid=1 \textcolor{comment}{# Find hidden network}
    key_mgmt=NONE
    priority=3 \textcolor{comment}{# To which WiFi connect first}
\}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Connect to WiFi}
\begin{itemize}
    \item \textbf{Script:}
    \newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/scripts/run_wlan0.sh}}
\end{itemize}
\begin{itemize}
    \item \textbf{Bring everything down for restart:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{dhcpcd} --release <wlan0>
\textcolor{root}{root#} \textcolor{command}{ip} a flush <wlan0>
\textcolor{root}{root#} \textcolor{command}{systemctl} stop dhcpcd.service
\textcolor{root}{root#} \textcolor{command}{systemctl} stop wpa_supplicant.service
\textcolor{root}{root#} \textcolor{command}{ip} l set <wlan0> down
\end{Verbatim}
    \item \textbf{Start anonymized interface:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{rfkill} unblock wlan
\textcolor{root}{root#} \textcolor{command}{macchanger} -A <wlan0>
\textcolor{root}{root#} \textcolor{command}{rm} -rf \textcolor{file}{/var/lib/dhcpcd/*}
\textcolor{root}{root#} \textcolor{command}{rm -f} \textcolor{file}{/run/wpa_supplicant/<wlan0>}
\textcolor{root}{root#} \textcolor{command}{killall} -9 wpa_supplicant
\textcolor{root}{root#} \textcolor{command}{ip} l set <wlan0> up
\textcolor{root}{root#} \textcolor{command}{systemctl} start wpa_supplicant.service
\textcolor{root}{root#} \textcolor{command}{systemctl} start dhcpcd.service
\textcolor{root}{root#} \textcolor{command}{wpa_supplicant} -B -D wext -i <wlan0> c <\textcolor{file}{/etc/wpa_supplicant/wpa_supplicant.conf}>
\textcolor{root}{root#} \textcolor{command}{dhcpcd} <wlan0>
\end{Verbatim}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Shell and Texteditor %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Texteditor and Shell}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Texteditor}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{vim}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install vim
\end{Verbatim}
    \item \textbf{Set as default text editor:}
    \begin{enumerate}
        \item \textbf{Show available editors:}
        \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --list editor
\end{Verbatim}
        \item \textbf{Change default editor:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set editor /usr/bin/vim.basic
\end{Verbatim}
    \end{enumerate}
    \item \textbf{Configure:}
\newline File (\textbf{\textcolor{file}{\~/.vimrc}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.vimrc}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{bvi}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install bvi
\end{Verbatim}
    \item \textbf{Configure:}
\newline File (\textbf{\textcolor{file}{\~/.bvirc}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{"" Enable edit:}
set memmove
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Shell}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{zsh}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install zsh zsh-autosuggestions zsh-syntax-highlighting
\end{Verbatim}
    \item \textbf{Set as default shell:}
    \begin{itemize}
        \item \textbf{User change:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{chsh} -s \textcolor{file}{/bin/zsh}
\end{Verbatim}
        \item \textbf{Root change:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{usermod} -s \textcolor{file}{/bin/zsh} <USER>
\end{Verbatim}
    \end{itemize}
    \item \textbf{Configure:}
\newline File (\textbf{\textcolor{file}{\~/.zshrc}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.zshrc}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% VIM as IDE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{VIM as IDE - MESS}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\section{Compile Vim from source}
%\begin{enumerate}
%    \item Dependencies:
%\begin{Verbatim}[commandchars=\\\{\}]
%\textcolor{root}{root#} \textcolor{command}{apt} install libncurses5-dev libgtk2.0-dev libatk1.0-dev
%libcairo2-dev python-dev python3-dev git
%\end{Verbatim}    
%    \item Remove Vim if already installed:
%\begin{Verbatim}[commandchars=\\\{\}]
%\textcolor{root}{root#} \textcolor{command}{apt} vim vim-runtime gvim
%\end{Verbatim}
%    \item Download:
%\begin{Verbatim}[commandchars=\\\{\}]
%\textcolor{root}{root#} \textcolor{command}{cd} \textcolor{dir}{/usr/}
%\textcolor{root}{root#} \textcolor{command}{git} clone https://github.com/vim/vim.git
%\textcolor{root}{root#} \textcolor{command}{cd} \textcolor{dir}{/vim/}
%\end{Verbatim}
%    \item Compile:
%\begin{Verbatim}[commandchars=\\\{\}]
%\textcolor{root}{root#} \textcolor{command}{./configure} --with-features=huge --enable-multibyte 
%--enable-pythoninterp=yes 
%--with-python-config-dir=\textcolor{dir}{/usr/lib/python2.7/config-x86_64-linux-gnu} 
%-enable-python3interp=yes 
%--with-python3-config-dir=\textcolor{dir}{/usr/lib/python3.9/config-3.9-x86_64-linux-gnu} 
%--enable-gui=gtk2 --enable-cscope --prefix=/usr/local
%\textcolor{root}{root#} \textcolor{command}{make} VIMRUNTIMEDIR=\textcolor{dir}{/usr/local/share/vim/vim81}
%
%\textcolor{root}{root#} \textcolor{command}{cd} \textcolor{dir}{/usr/vim/}
%\textcolor{root}{root#} \textcolor{command}{checkinstall}
%ENTER
%\end{Verbatim}
%    \item Set as Default Editor:
%\begin{Verbatim}[commandchars=\\\{\}]
%\textcolor{root}{root#} \textcolor{command}{update-alternatives} --install /usr/bin/editor editor /usr/local/bin/vim 1
%\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set editor /usr/local/bin/vim
%\textcolor{root}{root#} \textcolor{command}{update-alternatives} --install /usr/bin/vi vi /usr/local/bin/vim 1
%\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set vi /usr/local/bin/vim   
%\end{Verbatim}
%\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Plugins for Download}
\underline{\url{https://vimawesome.com/}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Download Neovim (???)}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install neovim
\end{Verbatim}  
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Download vim-nox}
Compiled vim with python3 flag.
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install vim-nox
\end{Verbatim}      
    \item Check support for python3:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{vim} --version | \textcolor{command}{python}
\end{Verbatim}
    \item Sed as default editor:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set editor \textcolor{file}{/usr/bin/vim.nox}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{vim-plug (Plug-In Manager)}
\textit{Minimalistic plug-in manager.}
\newline\underline{\url{https://github.com/junegunn/vim-plug}}
\begin{enumerate}
    \item Download vim-plug:
    \begin{itemize}
        \item vim:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{curl} -fLo ~/.vim/autoload/plug.vim --create-dirs \char92
https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
\end{Verbatim}  
        \item nvim:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{sh} -c 'curl -fLo \char92
"\${XDG_DATA_HOME:-\$HOME/.local/share}"/nvim/site/autoload/plug.vim \char92
--create-dirs \char92
https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
\end{Verbatim}  
        \end{itemize}
    \item Add this piece of config code:
\newline File: (\textbf{\textcolor{file}{\~/.vimrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{"" Plugins will be downloaded under the specified directory.}
call plug#begin(has('nvim') ? stdpath('data') . '/plugged' : '~/.vim/plugged')

\textcolor{comment}{"" Declare the list of plugins.}
Plug 'hdima/python-syntax'
Plug 'Valloric/YouCompleteMe'

\textcolor{comment}{"" List ends here. Plugins become visible to Vim after this call.}
call plug#end()
\end{Verbatim}    
    \item Usage:
    \begin{itemize} 
        \item Update vim-plug: \textbf{:PlugUpgrade}
        \item Check Status: \textbf{:PlugStatus}
        \item Install Plugin: \textbf{:PlugInstall}
        \item Update Installed Plugins:
        \textbf{:PlugUpdate}
        \item Clean unused Plugins: \textbf{:PlugClean}
    \end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Plugins}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{hdima/python-syntax}
\textit{Highlight syntax for '*.py' files.}
\begin{enumerate}
    \item Config:
\newline File (\textcolor{file}{\~/.vimrc}):
\begin{Verbatim}[commandchars=\\\{\}]
...
\textcolor{comment}{" highlight *.py file}
let python_highlight_all = 1 
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{hdima/python-syntax}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install build-essential cmake python3-dev
\textcolor{user}{user\$} \textcolor{command}{cd} \textcolor{file}{~/.vim/plugged/YouCompleteMe}
\textcolor{user}{user\$} \textcolor{command}{python3} \textcolor{file}{install.py} --all
\end{Verbatim}
    \item Config:
\newline File (\textcolor{file}{\~/.vimrc}):
\begin{Verbatim}[commandchars=\\\{\}]
...
\textcolor{comment}{"" Make it work:}
let g:ycm_global_ycm_extra_conf = "\${HOME}/.vim/plugged/YouCompleteMe/.ycm_extra_conf.py"
\textcolor{comment}{"" Set minimal amount of chars to apply autocompletion:}
let g:ycm_min_num_of_chars_for_completion = 1
\textcolor{comment}{"" Disable Preview Windows (Scratch):}
let g:ycm_add_preview_to_completeopt = 0
\end{Verbatim}
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Web Browser %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Web Browser}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Firefox}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install firefox-esr
\end{Verbatim}
    \item \textbf{Set as default browser:}
    \begin{enumerate}
        \item \textbf{Show available browsers:}
        \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --list x-www-browser
\end{Verbatim}
        \item \textbf{Change default browser:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set x-www-browser /usr/bin/firefox-esr
\end{Verbatim}
    \end{enumerate}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Audio %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Audio}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Audio Control}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install alsa-utils
\end{Verbatim}
\end{enumerate}
\begin{itemize}
    \item \textbf{Get Master/Capture audio:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{amixer} get <Master/Capture>
\end{Verbatim}
    \item \textbf{Set mute/unmute/toggle Master/Capture audio:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{amixer} set <Master/Capture> <mute|unmute|toggle>
\end{Verbatim}
    \item \textbf{Set volume Master/Capture audio:}
    \begin{itemize}
        \item \textbf{Specific value:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{amixer} set <Master/Capture> <0-100>\%
\end{Verbatim}
        \item \textbf{Increase/decrease value:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{amixer} set <Master/Capture> <0-100>\%<+|->    
\end{Verbatim}
    \end{itemize}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Microphone}
In case of mic problems, try to install pulseaudio.
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install pulseaduio
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% X %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{X}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Xorg}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install xorg x11-xserver-utils xinit
\end{Verbatim}
    \item \textbf{Start X on tty1:}
\newline File (\textbf{\textcolor{file}{\~/.bash\_profile}}||\textbf{\textcolor{file}{\~/.bashrc}}||\textbf{\textcolor{file}{\~/.zshrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
...
\textcolor{comment}{## Start Xorg on tty1:}
if [[ -z \$DISPLAY ]] && [[ \$(tty) = /dev/tty1 ]]; then
    source /etc/profile
    startx
fi
...
\end{Verbatim}
    \item \textbf{xinit configuration:}
\newline File (\textbf{\textcolor{file}{\~/.xinitrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{## Disable screen saver:}
xset s off
xset s noblank
xset -dpms

\textcolor{comment}{## Execute i3 WM after X is started:}
xrandr -s 1920x1080
exec i3
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% i3 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{i3}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{i3 (do not install with i3-gaps)}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install i3 --no-install-recommends
\textcolor{root}{root#} \textcolor{command}{apt} install i3-wm
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{i3-gaps (do not install with i3)}
URL: (\underline{https://github.com/Airblader/i3/wiki/Building-from-source})
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install make meson git ninja-build
dh-autoreconf libxcb-keysyms1-dev
libxcb-util0-dev xcb libxcb1-dev libxcb-icccm4-dev libyajl-dev
libev-dev libxcb-xkb-dev libxcb-cursor-dev libxkbcommon-dev 
libxcb-xinerama0-dev libxkbcommon-x11-dev libpango1.0-dev
libstartup-notification0-dev libxcb-randr0-dev libxcb-xrm0 
libxcb-xrm-dev libxcb-shape0 libxcb-shape0-dev
\end{Verbatim} 
    \item \textbf{Clone i3-haps:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{cd} \textcolor{dir}{/etc/}
\textcolor{root}{root#} \textcolor{command}{git} clone https://www.github.com/Airblader/i3 i3-gaps
\textcolor{user}{user\$} \textcolor{command}{cd} \textcolor{dir}{./i3-gaps/}
\end{Verbatim}
    \item \textbf{Compile:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkdir} -p \textcolor{dir}{build} && cd \textcolor{dir}{build}
\textcolor{root}{root#} \textcolor{command}{meson} --prefix \textcolor{file}{/usr/local}
\textcolor{root}{root#} \textcolor{command}{ninja}
\textcolor{root}{root#} \textcolor{command}{ninja} install
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{run i3 after Xorg}
\begin{enumerate}
    \item \textbf{Run i3 on X init:}
\newline File (\textbf{\textcolor{file}{\~/.xinitrc}}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{# Disable screen saver:}
xset s off
xset s noblank
xset -dpms

\textcolor{comment}{# Execute i3 WM after X is started:}
xrandr -s 1920x1080
exec i3
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{i3 config}
\begin{enumerate}
    \item \textbf{i3 configuration:}
\newline File (\textbf{\textcolor{file}{\~/.config/i3/config}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.config/i3/config}}
    \item \textbf{i3 scripts:}
\newline \underline{\url{https://github.com/AISK11/debian/tree/main/dotfiles/.config/i3/scripts}}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{chmod} +x \textcolor{file}{~/.config/i3/scripts/*}
\end{Verbatim}
    \item \textbf{i3 wallpaper and lock screen:}
\newline \underline{\url{https://github.com/AISK11/debian/tree/main/dotfiles/.config/i3/images}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% i3 Programs %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{i3 Programs}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{i3blocks}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install i3blocks i3lock numlockx rofi feh scrot light xclip
\end{Verbatim}
    \item \textbf{i3blocks config:}
\newline File (\textbf{\textcolor{file}{/etc/i3blocks.conf}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/config_files/i3blocks.conf}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{urxvt}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install rxvt-unicode-256color compton
\end{Verbatim}
    \item \textbf{Configuration:}
\newline File (\textbf{\textcolor{file}{\~/.Xresources}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.Xresources}}
    \item \textbf{Load changed config:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{xrdb} \textcolor{file}{~/.Xresources}
\end{Verbatim}
    \item \textbf{Set as default CLI emulator:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --list x-terminal-emulator
\textcolor{root}{root#} \textcolor{command}{update-alternatives} --set x-terminal-emulator \textcolor{file}{/usr/bin/urxvt}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Fonts}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install imagemagick
\end{Verbatim}
    \item \textbf{List installed fonts:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{fc-list}
\end{Verbatim}
    \item \textbf{Display specific font:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{display} </PATH/TO/font.ttf>
\end{Verbatim}
    \item \textbf{Font Awesome:}
\newline Dir (\textbf{\textcolor{dir}{\~/.fonts/}}):
\newline \underline{\url{https://github.com/AISK11/debian/tree/main/dotfiles/.fonts}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{lxappearance (GTK)}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install lxappearance
\end{Verbatim}
    \item \textbf{Add themes and icons:}
\newline Dir (\textbf{\textcolor{dir}{\~/.themes/}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.themes.tar.bz2}}
\newline Dir (\textbf{\textcolor{dir}{\~/.icons/}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/dotfiles/.icons.tar.bz2}}
    \item \textbf{Change GTK theme and icons:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{lxappearance}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Drivers %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Drivers}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Network Drivers}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{iwlwifi}
\begin{enumerate} 
    \item \textbf{Needs \textit{contrib} and \textit{non-free} packages!}
    \item \textbf{Install driver:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install firmware-iwlwifi
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Nvidia + Intel GPU (Optimus) %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Nvidia + Intel GPU (Optimus)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Detection and Xorg conf}
\begin{enumerate}
    \item \textbf{Detect Video cards:}
\begin{itemize}
    \item \textbf{Detect with lspci:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{egrep} -i "vga|3d"
\end{Verbatim}
    \item \textbf{Detect with xrandr:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{xrandr} --listproviders
\end{Verbatim}
\end{itemize}
    \item \textbf{Xorg config:}
\newline File (\textbf{\textcolor{file}{/etc/X11/xorg.conf}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/config_files/xorg.conf}}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Intel}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install intel-gpu-tools
\end{Verbatim}
    \item \textbf{Checks:}
\begin{itemize}
    \item \textbf{Check if intel module is present:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{modinfo} i915
\end{Verbatim}
    \item \textbf{Check intel GPU utilization:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{intel_gpu_top} [-s <MILISECONDS>]
\end{Verbatim}
\end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Nvidia}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install nvidia-detect nvtop linux-headers-amd64 nvidia-driver 
firmware-misc-nonfree
\end{Verbatim}    
    \item \textbf{Additional dependencies (\textbf{not needed!}):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install nvidia-cuda-dev nvidia-cuda-toolkit 
nvidia-opencl-common nvidia-opencl-icd
\end{Verbatim}
    \item \textbf{Purge problematic primus-nvidia (required only during Steam install):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} purge primus-nvidia
\textcolor{root}{root#} \textcolor{command}{apt} clean
\textcolor{root}{root#} \textcolor{command}{apt} autoremove [-y]
\end{Verbatim}
    \item \textbf{Checks:}
\begin{itemize}
    \item \textbf{Check if Nvidia module is installed:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{modinfo} [-F version] nvidia-current
\end{Verbatim}
    \item \textbf{Check suggested Nvidia packages:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{nvidia-detect}
\end{Verbatim}
    \item \textbf{Check Nvidia GPU utilization:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{nvtop}
\end{Verbatim}
\end{itemize}
    \item \textbf{Run program with Nvidia GPU:}
\begin{itemize}
    \item \textbf{Linux programs:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} __NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia 
\textcolor{command}{<APPLICATION>}
\end{Verbatim}
\end{itemize}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Steam}
\begin{enumerate}
    \item \textbf{Download: \underline{\url{https://store.steampowered.com/about/}}}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install sudo
\textcolor{root}{root#} \textcolor{command}{apt} install </PATH/TO/steam_latest.deb>
\textcolor{user}{user\$} \textcolor{command}{steam}
\end{Verbatim}
    \item \textbf{Fix \textit{libGL.so.1} is missing:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install primus-nvidia
\textcolor{user}{user\$} \textcolor{command}{steam}
\end{Verbatim}
    \item \textbf{Purge primus-nvidia (causing problems):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} purge primus-nvdia
\end{Verbatim}
    \item \textbf{Run Steam Game:}
\begin{verbatim}
__NV_PRIME_RENDER_OFFLOAD=1 __GLX_VENDOR_LIBRARY_NAME=nvidia %command%
\end{verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% System Hardening %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{System Hardening}
\section{Networking}
\subsection{Disable Avahi}
\begin{itemize}
    \item Protocol: \textbf{MDNS}
    \item Port: \textbf{UDP 5353}
\end{itemize}
\begin{enumerate}
    \item \textbf{Disable Avahi service:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} disable avahi-daemon.socket
\textcolor{root}{root#} \textcolor{command}{systemctl} disable avahi-deamon.service
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{MOTD}
\begin{enumerate}
    \item \textbf{Set blank MOTD:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{echo} "" > \textcolor{file}{/etc/issue}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Usb Guard}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install usbguard
\end{Verbatim}
    \item \textbf{Start USB Guard on startup:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} enable usbguard.service
\end{Verbatim}
    \item \textbf{List USBs:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{lsusb}
\textcolor{user}{user\$} \textcolor{command}{usbguard} list-devices [--allowed|--blocked]
\textcolor{user}{user\$} \textcolor{command}{usbguard} list-rules [--allowed|--blocked]
\end{Verbatim}
    \item \textbf{Allow/Block USBs (permanently):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{usbguard} <allow-device|block-device|reject-device>
<USB-ID> [-p]
\end{Verbatim}
    \item \textbf{Delete rule:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{usbguard} remove-rule <RULE-ID>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Add kali repository}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install gnupg
\end{Verbatim}    
    \item \textbf{Add kali repository to apt sources file:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{bash} -c 'echo 
"deb http://http.kali.org/kali kali-rolling main non-free contrib" >> 
\textcolor{file}{/etc/apt/sources.list}'
\end{Verbatim}    
    \item \textbf{Sign repository:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{wget} 'https://archive.kali.org/archive-key.asc'
\textcolor{root}{root#} \textcolor{command}{apt-key} add \textcolor{file}{./archive-key.asc}
\end{Verbatim}    
    \item \textbf{Assign low priority to kali packages}:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{touch} \textcolor{file}{/etc/apt/preferences}
\end{Verbatim}
File (\textbf{\textcolor{file}{/etc/apt/preferences}}):
\begin{Verbatim}[commandchars=\\\{\}]
Package: *
Pin: release a=kali-rolling
Pin-Priority: 50
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{ICMP Firewall}
\begin{center}
    \begin{small}
    \begin{tabular}{|p{2cm}|p{4cm}|p{1cm}|}
    \hline
    \textbf{LogLevel} & \textbf{Code} & \textbf{Color} \\
    \hline
    7 & KERN\_DEBUG & Grey \\
    \hline
    6 & KERN\_INFO & White \\
    \hline
    5 & KERN\_NOTICE & White \\
    \hline
    4 & KERN\_WARNING & Yellow \\
    \hline
    3 & KERN\_ERR & Red \\
    \hline
    2 & KERN\_CRIT & Red \\
    \hline
    1 & KERN\_ALERT & Red \\
    \hline
    0 & KERN\_EMERG & Red \\
    \hline
    \end{tabular}
    \end{small}
\end{center}


\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install iptables-persistent
\end{Verbatim}
    \item \textbf{List FW rules:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{iptables} -L -n -v
\textcolor{root}{root#} \textcolor{command}{ip6tables} -vnL
\end{Verbatim}
    \item \textbf{LOG \& DROP ICMP request, timestamp, mask and traceroute:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{iptables} -F
\textcolor{root}{root#} \textcolor{command}{iptables} -X
\textcolor{root}{root#} \textcolor{command}{iptables} -Z
\textcolor{root}{root#} \textcolor{command}{iptables} -N LOG_AND_DROP
\textcolor{root}{root#} \textcolor{command}{iptables} -A LOG_AND_DROP -j LOG --log-prefix "iptables denied: "
--log-level <0-7>
\textcolor{root}{root#} \textcolor{command}{iptables} -A LOG_AND_DROP -j DROP 
\textcolor{root}{root#} \textcolor{command}{iptables} -A INPUT -s 127.0.0.0/8 -d 127.0.0.0/8 -j ACCEPT
\textcolor{root}{root#} \textcolor{command}{iptables} -A INPUT -s 0.0.0.0/0 -p icmp --icmp-type 8 -j LOG_AND_DROP
\textcolor{root}{root#} \textcolor{command}{iptables} -A INPUT -s 0.0.0.0/0 -p icmp --icmp-type 13 -j LOG_AND_DROP
\textcolor{root}{root#} \textcolor{command}{iptables} -A INPUT -s 0.0.0.0/0 -p icmp --icmp-type 17 -j LOG_AND_DROP
\textcolor{root}{root#} \textcolor{command}{iptables} -A INPUT -s 0.0.0.0/0 -p icmp --icmp-type 30 -j LOG_AND_DROP

\textcolor{root}{root#} \textcolor{command}{ip6tables} -F
\textcolor{root}{root#} \textcolor{command}{ip6tables} -X
\textcolor{root}{root#} \textcolor{command}{ip6tables} -Z
\textcolor{root}{root#} \textcolor{command}{ip6tables} -N LOG_AND_DROP
\textcolor{root}{root#} \textcolor{command}{ip6tables} -A LOG_AND_DROP -j LOG --log-prefix "ip6tables denied: "
--log-level <0-7>
\textcolor{root}{root#} \textcolor{command}{ip6tables} -A LOG_AND_DROP -j DROP 
\textcolor{root}{root#}
\textcolor{root}{root#} \textcolor{command}{ip6tables} -A INPUT -s ::/0 -p icmpv6 --icmpv6-type 128 -j LOG_AND_DROP
\end{Verbatim}
Log File: (\textbf{\textcolor{file}{/var/log/syslog}}).
    \item \textbf{Change log file:}
\begin{itemize}
    \item \textbf{Create rsyslog rule:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{touch} \textcolor{file}{/etc/rsyslog.d/iptables.conf}
\end{Verbatim}    
File (\textbf{\textcolor{file}{/etc/rsyslog.d/iptables.conf}}):
\begin{Verbatim}[commandchars=\\\{\}]
:msg, contains, "iptables denied: " -/var/log/iptables.log
& ~
\end{Verbatim}
    \item \textbf{Create log rotate rule:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{touch} \textcolor{file}{/etc/logrotate.d/iptables}
\end{Verbatim}
File (\textbf{\textcolor{file}{/etc/logrotate.d/iptables}}):
\begin{Verbatim}[commandchars=\\\{\}]
/var/log/iptables.log
\{
    missingok
    notifempty
    rotate 4
    daily
    create 0600 root root
    compress
    delaycompress
    copytruncate
    nomail
    shred
\}
\end{Verbatim}
    \item \textbf{Crontab (\underline{\url{https://crontab.guru/}}) for log rotation:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{crontab} -e
@reboot systemctl restart logrotate.service && \char92
systemctl restart rsyslog.service
@daily systemctl restart logrotate.service && \char92
systemctl restart rsyslog.service
\end{Verbatim}
    \item \textbf{Restart rsyslog:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} restart logrotate.service &&
\textcolor{command}{systemctl} restart rsyslog.service
\end{Verbatim}    
New (exclusive) log file: (\textbf{\textcolor{file}{/var/log/iptables.log}}).
\end{itemize}
    \item \textbf{Save to persistent iptables:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{iptables-save} > \textcolor{file}{/etc/iptables/rules.v4}
\textcolor{root}{root#} \textcolor{command}{ip6tables-save} > \textcolor{file}{/etc/iptables/rules.v6}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Honeypots}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{endlessh}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install endlessh
\end{Verbatim}    
    \item \textbf{Configuration:}
\newline (\textbf{\textbf{file}{/etc/endlessh/config}}):
\begin{Verbatim}[commandchars=\\\{\}]
Port 22
\end{Verbatim}
    \item \textbf{Restart service:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} enable endlessh.service
\textcolor{root}{root#} \textcolor{command}{systemctl} restart endlessh.service
\end{Verbatim}    
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Network Services %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Network Services}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{SSH}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Negotiation}
\begin{verbatim}
+------+                                   +------+
|CLIENT|-----------------------------------|SERVER|
+------+                                   +------+
        ----------Client Protocol--------->
        <---------Server Protocol----------
        -------KEXINIT (ENC,KEX,MAC)------>
        <------KEXINIT (ENC,KEX,MAC)-------
        --------KEXINIT (KEX) Init ------->
        <--KEXINIT (KEX) Reply, New Keys---
        ------------- New Keys ----------->
        --SSH_MSG_SERVICE_REQUEST (login)->
        <-SSH_MSG_SERVICE_ACCEPT  (login)--
        <------- ENCRYPTED TRAFFIC ------->
\end{verbatim}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{SSH Audit}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install ssh-audit
\end{Verbatim}   
    \item \textbf{Usage:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{ssh-audit} <HOST>
\end{Verbatim}       
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Server}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install openssh-server
\end{Verbatim}
    \item \textbf{Configure SSHD:}
    \newline File (\textbf{\textcolor{file}{/etc/ssh/sshd\_config}}):
\newline \underline{\url{https://github.com/AISK11/debian/blob/main/config_files/ssh/sshd_config}}
    \item \textbf{Start SSH on startup:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} <enable|disable> ssh.service
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Client}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install openssh-client
\end{Verbatim}
    \item \textbf{Connect to server:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{ssh} [-p <PORT>] <USER>@<HOST> [-c <3des-cbc>] 
[-oKexAlgorithms=+<diffie-hellman-group1-sha1>]
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{VNC}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Server}
\begin{itemize}
    \item \textbf{Virtual (standalone) display:}
    \begin{enumerate}
        \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install tigervnc-standalone-server
\end{Verbatim}
        \item \textbf{Generate passwords:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{tigervncpasswd} [\textcolor{file}{~/.vnc/newpasswordfile}]
\end{Verbatim}
Default file: (\textbf{\textcolor{file}{\~/.vnc/passwd}}).
        \item \textbf{Run TigerVNC server:}
        \begin{itemize}
            \item \textbf{Direct Access:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{tigervncserver} :<DISPLAY> -rfbport <L_PORT> -localhost no
-SecurityTypes <VncAuth,TLSVnc> -PasswordFile <\textcolor{file}{~/.vnc/passwd}>
\end{Verbatim}            
            \item \textbf{SSH Tunneling:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{tigervncserver} :<DISPLAY> -rfbport <L_PORT> -localhost
-SecurityTypes <VncAuth,TLSVnc> -PasswordFile <\textcolor{file}{~/.vnc/passwd}>
\end{Verbatim}
        \end{itemize}
    \end{enumerate}
    \item \textbf{Current display:}
    \begin{enumerate}
        \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install tigervnc-scraping-server
\end{Verbatim}
       \item \textbf{Generate passwords:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{tigervncpasswd} [\textcolor{file}{~/.vnc/newpasswordfile}]
\end{Verbatim}
Default file: \textbf{\textcolor{file}{\~/.vnc/passwd}}
        \item \textbf{Run TigerVNC server:}
        \begin{itemize}
            \item \textbf{Direct Access:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{x0tigervncserver} :0 -rfbport <5900> -localhost no
-SecurityTypes <VncAuth,TLSVnc> -PasswordFile <\textcolor{file}{~/.vnc/passwd}>
\end{Verbatim}    
            \item \textbf{SSH Tunneling:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{x0tigervncserver} :0 -rfbport <5900> -localhost
-SecurityTypes <VncAuth,TLSVnc> -PasswordFile <\textcolor{file}{~/.vnc/passwd}>
\end{Verbatim}
        \end{itemize}
    \end{enumerate}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Client}
\begin{enumerate}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install tigervnc-viewer
\end{Verbatim}    
    \item \textbf{Connect:}
    \begin{itemize}
        \item \textbf{Direct Access:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{xtigervncviewer} <HOST>::<5900>
\end{Verbatim}   
    \item \textbf{SSH Tunneling:}
    \begin{enumerate}
        \item \textbf{Create SSH Tunel:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{ssh} [-p <PORT>] -L <L_PORT>:<127.0.0.1>:<5900> -N <USER>@<HOST>
\end{Verbatim}          
        \item \textbf{Connect:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{xtigervncviewer} localhost::<L_PORT>
\end{Verbatim}  
    \end{enumerate}
    \end{itemize}
    \item \textbf{Context GUI Menu:}
    \newline "F8"
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{HTTP}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% KVM %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{KVM - WiP}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Scheme}
\begin{verbatim}
                                             +--+  +--+  +--+
                                             |VM|  |VM|  |VM|
                                             +--+  +--+  +--+
     |--> virt-manager (GUI) |                 virt-viewer
     |                       |             +------------------+
USER ---> virsh (CLI) --------> libvirt -> |       QEMU       |
     |                       |             +------------------+
     |--> virt-install (CLI) |                       |
                                           +------------------+
                                           | kernel           |
                   +----------|            |     +---------+  |
                   | Hardware |----------->|     |   KVM   |  |
                   +----------+            |     +---------+  |
                                           +------------------+
\end{verbatim}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Setup}
\begin{enumerate}
    \item \textbf{Check if KVM is supported by CPU:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{egrep} "vmx|svm" \textcolor{file}{/proc/cpuinfo}
\end{Verbatim}
    \item \textbf{Dependencies:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install install qemu-system libvirt-clients 
libvirt-daemon-system virt-manager
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Permissions}
\begin{enumerate}
    \item \textbf{Add user to libvirt groups:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{usermod} -aG libvirt <USER>
\textcolor{root}{root#} \textcolor{command}{usermod} -aG libvirt-qemu <USER>
\end{Verbatim}
    \item \textbf{Check if user can list VMs (user mode):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{virsh} list --all
\end{Verbatim}
    \item \textbf{Configure for system mode:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{cp} -r \textcolor{dir}{/etc/libvirt/} \textcolor{dir}{~/.config/libvirt/}
\textcolor{root}{root#} \textcolor{command}{chown} <USER> \textcolor{file}{~/.config/libvirt/libvirt.conf/}
\end{Verbatim}
File (\textcolor{file}{~/.config/libvirt/libvirt.conf}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{# Uri default system/user}:
uri_default = "qemu:///system"
\end{Verbatim}
    \item \textbf{Check if user can list VMs (system mode):}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{virsh} list --all
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Start KVM/QEMU}
\begin{enumerate}
    \item \textbf{Start KVM/QEMU:}
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{systemctl} start libvirtd.service
\textcolor{user}{user\$} \textcolor{command}{virt-manager}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{VMs}
\begin{itemize}
    \item \textbf{Files:}
    \begin{itemize}
        \item \textbf{ISO dir (move here ISOs):}
        \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkdir} \textcolor{dir}{/var/lib/libvirt/iso/}
        \end{Verbatim}
        \item \textbf{VM images:} 
        \newline \textcolor{dir}{/var/lib/libvirt/images/}
        \item \textbf{VM config:}
        \newline \textcolor{dir}{/etc/libvirt/qemu/}
    \end{itemize}
    \item \textbf{Copy Paste:}
        \begin{itemize}
            \item \textbf{Linux:}
            \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install spice-vdagent
        \end{Verbatim}
            \item \textbf{Windows:}
            \newline \underline{\url{http://spice-space.org/}}
        \end{itemize}
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Networking}
Done in a GUI at this moment.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Programs - Sytem %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Programs - System}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Programs %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Programs - WiP}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{List}
System:
\begin{itemize}
    \item apt-file
    \item psmisc
    \item htop
    \item parted
\end{itemize}
Network:
\begin{itemize}
    \item nmap
    \item hping3
    \item arping
    \item nbtscan
    \item macchanger
\end{itemize}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{System}
\subsection{apt-file}
Needed for: \textbf{apt-file}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt} install apt-file
\end{Verbatim}
    \item Initialize (not really, just like apt update):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt-file} update
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt-file} search -x <FILE>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{psmisc}
Needed for: \textbf{killall}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt} install psmisc
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{htop}
Needed for: \textbf{htop}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt} install htop
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{htop}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Devices}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{MTP}
Note: use original cable, some cables may not work.
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root} \textcolor{command}{apt} install mtp-tools jmtpfs
\end{Verbatim}
    \item Check if MTP device is detected:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{mtp-detect}
\end{Verbatim}
    \item Mount MTP device:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{mkdir} \textcolor{dir}{/mnt/mtp/}
\textcolor{root}{root#} \textcolor{command}{chmod} 0777 \textcolor{dir}{/mnt/mtp/}
\textcolor{root}{root#} \textcolor{command}{jmtpfs} \textcolor{dir}{/mnt/mtp/}
\end{Verbatim}
    \item Unmount MTP device:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{fusermount} -u \textcolor{dir}{/mnt/mtp/}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Security}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{KeePassXC}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install keepassxc
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{keepassxc}
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Download/Convert}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{youtube-dl}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install youtube-dl
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{youtube-dl} -x --no-playlist --audio-format "mp3" --audio-quality 0 
--console-title "<URL>"
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{ocrmypdf}
PDF to OCR PDF.
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install ocrmypdf
\end{Verbatim}
    \item Usage:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{ocrmypdf} <INPUT.pdf> <OUTPUT.pdf>
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Images to PDF}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install imagemagick
\end{Verbatim}
    \item Fix Error \textit{"convert-im6.q16: attempt to perform an operation not allowed by the security policy `PDF' @ error/constitute.c/IsCoderAuthorized/421."}:
\newline File (\textcolor{file}{/etc/ImageMagick-6/policy.xml}):
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{comment}{<!-- Add read/write rights -->}
<policy domain="coder" rights="read|write" pattern="PDF" />
\end{Verbatim}
    \item Convert images to PDF:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{user}{user\$} \textcolor{command}{convert} <IMAGES> <OUTPUT>.pdf
\end{Verbatim}
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Multimedia}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Snip screenshot}
\begin{enumerate}
    \item Dependencies: ksnip
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Play Video}
\begin{enumerate}
    \item Dependencies: mpv
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Edit Video}
\begin{enumerate}
    \item Dependencies: openshot-qt
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Record Video}
\begin{enumerate}
    \item Dependencies: obs-studio
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Social}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Lightcord}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Flex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{neofetch}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{vrms}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Gomatrix}



\chapter{Networking Programs}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Serial Connection}
\begin{enumerate}
    \item Dependencies:
\begin{Verbatim}[commandchars=\\\{\}]
\textcolor{root}{root#} \textcolor{command}{apt} install putty
\end{Verbatim}
    \item Select Serial Interface
\begin{itemize}
    \item Cable: RS232 = device \textbf{/dev/ttyS0}
    \item Cable: USB console = device \textbf{/dev/ttyUSB0}
\end{itemize}
\end{enumerate}
\subsection{Troubleshooting}
\begin{enumerate}
    \item USBguard is causing problems for USB console.
\end{enumerate}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{SSH client}
\begin{Verbatim}[commandchars=\\\{\}]
ssh <USER>@<HOST> -c <3des-cbc> -oKexAlgorithms=<+diffie-hellman-group1-sha1>
\end{Verbatim}



\end{document}
